(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,(function(r){var n=e[i][1][r];return o(n||r)}),p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){(function(global){"use strict";const e={wordLiterals:new Set(["true","false","null","undefined","Infinity","NaN"]),commands:new Set(["new","await","void","delete","typeof","in","instanceof","yield","yieldFrom","select","selectAll","insert","insertEach","into","encode","encodeSVG","create","createSVG","fragment","attr","prop","style","text","html","remove","lower","raise","addClass","removeClass","toggleClass","hasClass","hasAttr","removeAttr","removeStyle","on","off","sketch","$a","$abbr","$address","$area","$article","$aside","$audio","$b","$base","$bdi","$bdo","$blockquote","$body","$br","$button","$canvas","$caption","$cite","$code","$col","$colgroup","$data","$datalist","$dd","$del","$details","$dfn","$dialog","$div","$dl","$dt","$em","$embed","$fieldset","$figcaption","$figure","$footer","$form","$h1","$h2","$h3","$h4","$h5","$h6","$head","$header","$hgroup","$hr","$i","$iframe","$img","$input","$ins","$kbd","$label","$legend","$li","$link","$main","$map","$mark","$menu","$meta","$meter","$nav","$noscript","$object","$ol","$optgroup","$option","$output","$p","$param","$picture","$pre","$progress","$q","$rb","$rp","$rt","$rtc","$ruby","$s","$samp","$script","$section","$select","$slot","$small","$source","$span","$strong","$style","$sub","$summary","$sup","$table","$tbody","$td","$template","$textarea","$tfoot","$th","$thead","$time","$title","$tr","$track","$u","$ul","$var","$video","$wbr","$animate","$animateMotion","$animateTransform","$circle","$clipPath","$defs","$desc","$discard","$ellipse","$feBlend","$feColorMatrix","$feComponentTransfer","$feComposite","$feConvolveMatrix","$feDiffuseLighting","$feDisplacementMap","$feDistantLight","$feDropShadow","$feFlood","$feFuncA","$feFuncB","$feFuncG","$feFuncR","$feGaussianBlur","$feImage","$feMerge","$feMergeNode","$feMorphology","$feOffset","$fePointLight","$feSpecularLighting","$feSpotLight","$feTile","$feTurbulence","$filter","$foreignObject","$g","$hatch","$hatchpath","$image","$line","$linearGradient","$marker","$mask","$metadata","$mpath","$path","$pattern","$polygon","$polyline","$radialGradient","$rect","$set","$solidcolor","$stop","$svg","$switch","$symbol","$text","$textPath","$tspan","$use","$view","abs","acos","acosh","asin","asinh","atan","atanh","cbrt","ceil","clz32","cos","cosh","exp","expm1","floor","fround","log","log10","log1p","log2","round","sign","sin","sinh","sqrt","tan","tanh","trunc","isArray","isBigInt","isBoolean","isFinite","isFunction","isInteger","isNaN","isNull","isNullish","isNumber","isString","isSymbol","isUndefined","toUpperCase","toLowerCase","trim","trimEnd","trimStart","neg","boolean","number","string","date","not","random","randomInt","categorical","normal","logNormal","binomial","exponential","geometric","fun","proc","scope","as","each","map","do","try","catch","asyncFun","asyncProc","asyncScope","asyncAs","asyncEach","asyncMap","asyncDo","asyncTry","asyncCatch","class","extends","difference","intersection","union","array","getter","setter","chg","if","throw","debugger","reduce","some","every","filter","filterIndex","min","minIndex","max","maxIndex","sum","sumCumu","count","find","findIndex","order","orderIndex","mean","group","groupCount","bin","binCount","variance","variancePop","deviation","deviationPop","arrObj","objArr","transpose","assign","attach","shuffle","export","import","importAs","importDefault","importAll","period","at","to","linSpace","apply","call","print","load","stop","ones","zeros","empties","pick","mapAt","rank","quantile","median","interpolate","innerJoin","outerJoin","leftJoin","rightJoin","crossJoin","semiJoin","antiJoin","crush","covariance","covariancePop","correlation"]),invalid:new Set(["break","const","continue","default","else","finally","for","function","let","return","switch","var","with","enum","implements","interface","package","private","protected","public","static","_z_","_z_v","_z_i","_z_x","_z_m","_z_s","_z_l"])};e.nonCommands=new Set([...e.wordLiterals,...e.invalid]);const t=new Map([["space",/[^\S\r\n]+/y],["comment",/\/\/.*/y],["newline",/\r?\n([^\S\r\n]*)/y],["number",/0[bB][01]+n?|0[oO][0-7]+n?|0[xX][\da-fA-F]+n?|0n|[1-9]\d*n|(?:\.\d+|\d+(?:\.\d*)?)(?:e[+\-]?\d+)?/y],["string",/'[^'\\]*(?:\\.[^'\\]*)*'|"[^"\\]*(?:\\[\S\s][^"\\]*)*"/y],["regexp",/&\/(?!\/)[^\/\\]*(?:\\.[^\/\\]*)*\/[\w$]*/y],["identifier",/[a-zA-Z_$][\w$,;]*/y],["function",/[\[{]/y],["openParentheses",/\(/y],["closeBracket",/[)\]}]/y],["operator",/(`)?([+\-*/%\^?\\=@#<>!]?=|[+\-*/%\^\\!~]|\|\||&&|<[>\-\\~]?|><|>|@{1,2}|#{1,2}|\?{1,2}|[?:]?:)(`)?(?![+\-*%<>=!?\\#@:|\^`~,;]|\/(?:$|[^/])|&&)/y],["lineCont",/\|/y]]),r=new Set(["+","-","*","/","%","^","&&","||","??","<","<=",">",">=","==","!=","<>","><"]);const n=new Map;n.set("array",[0,1/0]),n.set("at",[2,3]),n.set("chg",[3,3]),n.set("getter",[3,3]),n.set("setter",[3,3]),n.set("to",[2,3]),n.set("linSpace",[3,3]),n.set("reduce",[3,3]),n.set("pick",[2,2]),n.set("mapAt",[2,3]),n.set("group",[1,3]),n.set("groupCount",[1,3]),n.set("bin",[2,4]),n.set("binCount",[2,4]),n.set("sumCumu",[1,2]),n.set("sum",[1,2]),n.set("mean",[1,2]),n.set("minIndex",[1,2]),n.set("maxIndex",[1,2]),n.set("min",[1,2]),n.set("max",[1,2]),n.set("variance",[1,2]),n.set("variancePop",[1,2]),n.set("deviation",[1,2]),n.set("deviationPop",[1,2]),n.set("median",[1,3]),n.set("quantile",[2,4]),n.set("interpolate",[3,3]),n.set("orderIndex",[1,3]),n.set("order",[1,3]),n.set("rank",[1,3]),n.set("some",[1,2]),n.set("every",[1,2]),n.set("filter",[1,2]),n.set("filterIndex",[1,2]),n.set("innerJoin",[3,4]),n.set("outerJoin",[3,4]),n.set("leftJoin",[3,4]),n.set("rightJoin",[3,4]),n.set("semiJoin",[3,4]),n.set("antiJoin",[3,4]),n.set("crossJoin",[2,3]),n.set("crush",[1,1/0]),n.set("covariance",[3,3]),n.set("covariancePop",[3,3]),n.set("correlation",[3,3]),n.set("count",[1,2]),n.set("findIndex",[1,2]),n.set("find",[1,2]),n.set("print",[1,1]),n.set("arrObj",[1,2]),n.set("objArr",[1,2]),n.set("transpose",[1,1]),n.set("random",[0,3]),n.set("randomInt",[0,3]),n.set("categorical",[1,2]),n.set("normal",[0,3]),n.set("logNormal",[0,3]),n.set("binomial",[1,3]),n.set("exponential",[1,2]),n.set("geometric",[0,2]),n.set("shuffle",[1,1]),n.set("period",[1,2]),n.set("ones",[1,1/0]),n.set("zeros",[1,1/0]),n.set("empties",[1,1/0]),n.set("difference",[0,1/0]),n.set("intersection",[0,1/0]),n.set("union",[0,1/0]),n.set("select",[1,2]),n.set("selectAll",[1,2]),n.set("insert",[2,3]),n.set("insertEach",[2,3]),n.set("into",[2,3]),n.set("encode",[2,3]),n.set("encodeSVG",[2,3]),n.set("create",[1,2]),n.set("createSVG",[1,2]),n.set("attr",[2,3]),n.set("prop",[2,3]),n.set("style",[2,3]),n.set("text",[1,2]),n.set("html",[1,2]),n.set("remove",[1,1]),n.set("lower",[1,1]),n.set("raise",[1,1]),n.set("addClass",[2,2]),n.set("removeClass",[2,2]),n.set("toggleClass",[2,2]),n.set("hasClass",[2,2]),n.set("hasAttr",[2,2]),n.set("removeAttr",[2,2]),n.set("removeStyle",[2,2]),n.set("on",[3,4]),n.set("off",[3,4]),n.set("sketch",[0,1]),n.set("abs",[1,1]),n.set("acos",[1,1]),n.set("acosh",[1,1]),n.set("asin",[1,1]),n.set("asinh",[1,1]),n.set("atan",[1,1]),n.set("atanh",[1,1]),n.set("cbrt",[1,1]),n.set("ceil",[1,1]),n.set("clz32",[1,1]),n.set("cos",[1,1]),n.set("cosh",[1,1]),n.set("exp",[1,1]),n.set("expm1",[1,1]),n.set("floor",[1,1]),n.set("fround",[1,1]),n.set("log",[1,1]),n.set("log10",[1,1]),n.set("log1p",[1,1]),n.set("log2",[1,1]),n.set("round",[1,1]),n.set("sign",[1,1]),n.set("sin",[1,1]),n.set("sinh",[1,1]),n.set("sqrt",[1,1]),n.set("tan",[1,1]),n.set("tanh",[1,1]),n.set("trunc",[1,1]),n.set("toUpperCase",[1,1]),n.set("toLowerCase",[1,1]),n.set("trim",[1,1]),n.set("trimEnd",[1,1]),n.set("trimStart",[1,1]),n.set("neg",[1,1]),n.set("boolean",[1,1]),n.set("number",[1,1]),n.set("string",[1,1]),n.set("date",[1,1]),n.set("not",[1,1]),["$a","$abbr","$address","$area","$article","$aside","$audio","$b","$base","$bdi","$bdo","$blockquote","$body","$br","$button","$canvas","$caption","$cite","$code","$col","$colgroup","$data","$datalist","$dd","$del","$details","$dfn","$dialog","$div","$dl","$dt","$em","$embed","$fieldset","$figcaption","$figure","$footer","$form","$h1","$h2","$h3","$h4","$h5","$h6","$head","$header","$hgroup","$hr","$i","$iframe","$img","$input","$ins","$kbd","$label","$legend","$li","$link","$main","$map","$mark","$menu","$meta","$meter","$nav","$noscript","$object","$ol","$optgroup","$option","$output","$p","$param","$picture","$pre","$progress","$q","$rb","$rp","$rt","$rtc","$ruby","$s","$samp","$script","$section","$select","$slot","$small","$source","$span","$strong","$style","$sub","$summary","$sup","$table","$tbody","$td","$template","$textarea","$tfoot","$th","$thead","$time","$title","$tr","$track","$u","$ul","$var","$video","$wbr"].forEach(e=>n.set(e,[0,1])),["$animate","$animateMotion","$animateTransform","$circle","$clipPath","$defs","$desc","$discard","$ellipse","$feBlend","$feColorMatrix","$feComponentTransfer","$feComposite","$feConvolveMatrix","$feDiffuseLighting","$feDisplacementMap","$feDistantLight","$feDropShadow","$feFlood","$feFuncA","$feFuncB","$feFuncG","$feFuncR","$feGaussianBlur","$feImage","$feMerge","$feMergeNode","$feMorphology","$feOffset","$fePointLight","$feSpecularLighting","$feSpotLight","$feTile","$feTurbulence","$filter","$foreignObject","$g","$hatch","$hatchpath","$image","$line","$linearGradient","$marker","$mask","$metadata","$mpath","$path","$pattern","$polygon","$polyline","$radialGradient","$rect","$set","$solidcolor","$stop","$svg","$switch","$symbol","$text","$textPath","$tspan","$use","$view"].forEach(e=>n.set(e,[0,1]));const{wordLiterals:s,commands:o,invalid:i,nonCommands:a}=e,l=new Set(["+","-","*","/","%","^","&&","||","??","<>","><"]),u=new Set(["<","<=",">",">=","==","!="]),c=new Set(["#","##"]),h=new Set(["isBigInt","isBoolean","isFunction","isNumber","isString","isSymbol"]);function p(e){return`Zap syntax at ${e.line}:${e.column+1}, operator: ${e.value}, `}function f(e){return Error(`${p(e)}invalid number of operands`)}function d(e,t,r){return Error(`${p(e)}operand ${t+1} of ${r} is invalid`)}function m(e){return Error(`${p(e)}can only be used at top-level scope`)}function _(e){return Error(`${p(e)}duplicate name`)}var g=(e,t)=>{const{operator:r,position:g}=e,$=e.operands,b=r.value,w=$.map(e=>Array.isArray(e)?null:e.type),y=$.length;let U,v,S;"~"===b||"<~"===b?U=!0:"\\"===b||"<\\"===b?v=!0:o.has(b)||(S=!0);for(let e=0;e<y;e++)if("identifier"===w[e]&&i.has($[e].name)&&(!U||e!==g)&&(!S||!c.has(b)))throw d(r,e,y);function C(e){return"identifier"===w[e]&&!a.has($[e].name)}function M(e){if("string"!==w[e])throw d(r,e,y);return $[e].js}function k(e){return{js:e,line:r.line,column:r.column}}function x(e,t,r){if(e.length){for(let r of e)t.push(r,",");r?t[t.length-1]=")":t.pop()}else r&&t.push(")");return t}if(S){if(r.preTick||r.postTick){if(2!==y)throw f(r);let e,t,n;return"^"===b?e="**":"=="===b||"!="===b?e=b+"=":"<>"===b?t="<":"><"===b?t=">":e=b,r.preTick&&r.postTick?(n="((u, v) => {v = v[Symbol.iterator](); let r = [], t; for (let s of u) {if ((t = v.next()).done) break; r.push(",n+=t?`t.value ${t} s ? t.value : s`:`s ${e} t.value`,n+=")}; return r})("):n=`((u, v) => {let r = []; for (let s of ${r.preTick?`u) r.push(${t?`v ${t} s ? v : s`:`s ${e} v`})`:`v) r.push(${t?`s ${t} u ? s : u`:`u ${e} s`})`}; return r})(`,x($,[k(n)],"close")}if(l.has(b)){if(1!==y||"+"!==b&&"-"!==b){if(y<2)throw f(r);let e,t,n;if("<>"===b?e="<":"><"===b?e=">":t=r.js="^"===b?"**":b,e)n=[k(2===y?`((x, y) => y ${e} x ? y : x)(`:`((...x) => {let r = x[0], j; for (j = 1; j < ${y}; j++) if (x[j] ${e} r) r = x[j]; return r})(`)],x($,n,"close");else{n=["(",$[0],r,$[1],")"];for(let e=2;e<y;e++)n.unshift("("),n.push(k(t),$[e],")")}return n}return r.js=b,["(",r,$[0],")"]}if(u.has(b)){if(2!==y)throw f(r);return r.js="=="===b||"!="===b?b+"=":b,["(",$[0],r,$[1],")"]}if("!"===b){if(1!==y)throw f(r);return r.js="!",["(",r,$[0],")"]}if("?"===b){if(y<2||y>3)throw f(r);return["(",$[0],k("?"),$[1],k(":"),3===y?$[2]:"void 0",")"]}if("@"===b||"@@"===b){const e=[k("[")];return x($,e).push(k("]")),"@@"===b&&(e.unshift(k("(new Set(")),e.push("))")),e}if(":"===b.slice(-1)){if(2!==y)throw f(r);let e="";return"?:"===b?e="?.":"::"===b&&(e='["prototype"]'),[$[0],k(`${e}[`),$[1],"]"]}if(c.has(b)){function A(e){if("identifier"===w[e]&&i.has($[e].name))throw d(r,e,y)}if("#"===b){if(y%2)throw f(r);const e=[k("({")];for(let t=0;t<y;t+=2)A(t+1),"identifier"===w[t]?e.push('"',$[t],'"'):"string"===w[t]||"number"===w[t]?e.push($[t]):e.push("[",$[t],"]"),e.push(":",$[t+1],",");return e.push(k("})")),e}{if(y%2)throw f(r);const e=[k("(new Map([")];for(let t=0;t<y;t+=2)A(t+1),e.push("["),"identifier"!==w[t]||s.has($[t].name)?e.push($[t]):e.push('"',$[t],'"'),e.push(",",$[t+1],"],");return e.push(k("]))")),e}}}else{if(v||U){if(g>=y)throw function(e){return Error(`${p(e)}no right operand`)}(r);const e=$.slice(0,g).concat($.slice(g+1));if(v){let t;if("\\"===b)t=[$[g],"("];else{if(1===y)throw f(r);t=[k("((f, ...a) => {f(...a); return a[0]})("),$[g],","]}return x(e,t,"close")}{if(y<2)throw f(r);let t,n;if(t="identifier"===w[g]?['"',$[g],'"']:[$[g]],"~"===b)n=[e[0],k("["),...t,k("](")];else{const r=e.length>1?"...a":"";n=[k(`((o, m${r?`, ${r}`:""}) => {o[m](${r}); return o})(`),e[0],",",...t],r&&n.push(",")}return x(e.slice(1),n,"close")}}if(n.has(b)){const[e,s]=n.get(b);if(y<e||y>s)throw f(r);return function(e){return t.add(e),x($,[k(`_z_.${e}(`)],"close")}(b)}if(h.has(b)){if(1!==y)throw f(r);return["(",k("typeof")," ",$[0],` === '${b.slice(2).toLowerCase()}')`]}if("isArray"===b){if(1!==y)throw f(r);return[k("Array.isArray("),$[0],")"]}if("isInteger"===b||"isFinite"===b||"isNaN"===b){if(1!==y)throw f(r);return[k(`Number.${b}(`),$[0],")"]}if("isNull"===b||"isUndefined"===b){if(1!==y)throw f(r);return[k("("),$[0],` === ${b.slice(2).toLowerCase()})`]}if("isNullish"===b){if(1!==y)throw f(r);return[k("(("),$[0]," ?? null) === null)"]}if("attach"===b){if(y<2)throw f(r);const e=new Set;let t="((o";for(let n=1;n<y;n++){if(!C(n))throw d(r,n,y);e.add($[n].name),t+=`,v${n}`}if(e.size<y-1)throw _(r);t+=") => {";for(let e=1;e<y;e++)t+=`o.${$[e].name}=v${e};`;return t+="return o})(",x($,[k(t)],"close")}if("new"===b){if(0===y)throw f(r);const e=[k("(new ("),$[0],k(")(")];return x($.slice(1),e),e.push("))"),e}if("in"===b||"instanceof"===b){if(2!==y)throw f(r);return r.js=b,["(",$[0]," ",r," ",$[1],")"]}if("delete"===b){if(2!==y)throw f(r);return r.js="delete",["(",r," ",$[0],"[",$[1],"])"]}if("await"===b||"void"===b||"typeof"===b||"yield"===b||"yieldFrom"===b){if(1!==y)throw f(r);return r.js="yieldFrom"===b?"yield*":b,"await"===b?e.awaitUsed=!0:"yield"!==b&&"yieldFrom"!==b||(e.yieldUsed=!0),["(",r," ",$[0],")"]}if("if"===b){if(y%2||y<2)throw f(r);const e=["("];for(let t=0;t<y;t+=2)e.push($[t],k("?"),$[t+1],k(":"));return e.push("void 0)"),e}if("stop"===b){if(y)throw f(r);return e.stopUsed=!0,[k("(_z_s = 1, void 0)")]}if("call"===b){if(!y)throw f(r);const e=[$[0],k("(")];return x($.slice(1),e,"close")}if("apply"===b){let e;if(1===y)e=[$[0],k("()")];else{if(2!==y)throw f(r);e=[$[0],k("(..."),$[1],")"]}return e}if("throw"===b){if(1!==y)throw f(r);return[k("(e => {throw e})("),$[0],")"]}if("debugger"===b){if(y)throw f(r);return[k("(() => {debugger})()")]}if("assign"===b){if(y<2)throw f(r);const e=[k("Object.assign(")];return x($,e,"close")}if("fragment"===b){if(y)throw f(r);return[k("document.createDocumentFragment()")]}if("load"===b){if(1!==y)throw f(r);return[k("import("),$[0],")"]}if("import"===b){if(e.token)throw m(r);if(!y)throw f(r);const t=M(0);if(1===y)e.import.push([k(`import ${t};\n`)]);else{for(let e=1;e<y;e++)if(!C(e))throw d(r,e,y);e.import.push([k(`import {${$.slice(1).map(e=>e.js).join(", ")}} from ${t};\n`)])}return[k("(void 0)")]}if("importAs"===b){if(e.token)throw m(r);if(y<3||y%2==0)throw f(r);const t=M(0),n=[];for(let e=1;e<y;e+=2){if(!C(e))throw d(r,e,y);if(!C(e+1))throw d(r,e+1,y);n.push(`${$[e].js} as ${$[e+1].js}`)}return e.import.push([k(`import {${n.join(", ")}} from ${t};\n`)]),[k("(void 0)")]}if("importDefault"===b||"importAll"===b){if(e.token)throw m(r);if(2!==y)throw f(r);const t=M(0);if(!C(1))throw d(r,1,y);let n="import ";return"importAll"===b&&(n+="* as "),e.import.push([k(n+`${$[1].js} from ${t};\n`)]),[k("(void 0)")]}if("export"===b){if(e.token)throw m(r);if(e.export.size)throw function(e){return Error(`${p(e)}can only be used once`)}(r);if(!y)throw f(r);return $.forEach((t,n)=>{if(!C(n))throw d(r,n,y);if(e.export.has(t.js))throw _(r);e.export.add(t.js)}),[k("(void 0)")]}}};const $=["_create","_createElm"];var b={_at(e,t,r){let n;if(r||Array.isArray(e)){n=[];for(let r of t)n.push(e[r])}else if("string"==typeof e){n="";for(let r of t)n+=e[r]}else{n={};for(let r of t)n[r]=e[r]}return n},_first(e){return"string"==typeof e?document.querySelector(e):e&&e[Symbol.iterator]?e[Symbol.iterator]().next().value:e},_autoSelect(e){return"string"==typeof e?[...document.querySelectorAll(e)]:e},_callback(e=(e=>e)){return"function"==typeof e?e:t=>t[e]},_group(e,t,r,n){let s=new Map,o=0;for(let n of t){let i=r(n,o++,t);e?s.set(i,s.has(i)?s.get(i)+1:1):s.has(i)?s.get(i).push(n):s.set(i,[n])}if(void 0!==n)for(let[e,t]of s)s.set(e,n(t,e));return s},_compare(e=((e,t)=>e-t),t){return"asc"===e?void 0===t?(e,t)=>e-t:(e,r)=>e[t]-r[t]:"desc"===e?void 0===t?(e,t)=>t-e:(e,r)=>r[t]-e[t]:e},_orderIndex(e,t){return(e=Array.isArray(e)?e:[...e]).map((e,t)=>t).sort((r,n)=>t(e[r],e[n]))},_bin(e,t,r,n=((e,t)=>e-t),s){r=[...r];let o=new Map;for(let t of r)o.set(t,e?0:[]);for(let s of t)for(let t of r)if(n(s,t)<=0){e?o.set(t,o.get(t)+1):o.get(t).push(s);break}if(void 0!==s)for(let[e,t]of o)o.set(e,s(t,e));return o},_sum(e,t,r){let n=0,s=0;for(let e of t)n+=+r(e,s,t),s++;return e?n/s:n},_minMaxIndex(e,t,r){let n=NaN,s=0,o=-1,i=e?(e,t)=>e<=t:(e,t)=>e>=t;for(let e of t){if(e=+r(e,s,t),isNaN(e))return-1;i(e,n)||(n=e,o=s),s++}return o},_minMax(e,t,r){let n,s=NaN,o=0,i=e?(e,t)=>e<=t:(e,t)=>e>=t;for(let e of t){let a=+r(e,o++,t);if(isNaN(a))return;i(a,s)||(s=a,n=e)}return n},_quantile(e,t,r,n){const s=[];let o=0;for(let t of e){if(t=+r(t,o++,e),Number.isNaN(t))return NaN;s.push(t)}const i=s.length;if(t=Math.max(Math.min(t,1),0)*(i-1),Number.isNaN(t))return NaN;const a=Math.round(t);if(Math.abs(a-t)<1e-14*(i-1)&&(t=a),n||s.sort((e,t)=>e-t),0===i)return NaN;if(1===i)return s[0];{const e=Math.floor(t),r=Math.ceil(t);return e===r?s[e]:s[e]*(r-t)+s[r]*(t-e)}},_varDev(e,t,r,n){let s=0,o=0,i=0;for(let e of r){e=+n(e,s,r);const t=e-o;o+=t/++s,i+=t*(e-o)}return s<2?NaN:(i/=t?s:s-1,e?Math.sqrt(i):i)},_covCorr(e,t,r,n,s){let o=0,i=0,a=0,l=0,u=0,c=0;for(let e of r){const t=+n(e,c,r),h=+s(e,c,r),p=t-o,f=h-i;o+=p/++c,i+=f/c,u+=p*(h-i),a+=p*(t-o),l+=f*(h-i)}return c<2?NaN:e?u/(Math.sqrt(a)*Math.sqrt(l)):u/(t?c:c-1)},_join(e,t,r,n,s=1/0){const o=function*(){if((s=Math.floor(s))<1)return;const o="l"===e||"o"===e,i="r"===e||"o"===e,a=t._cakeJoinGen,l=r._cakeJoinGen,u=new Set;let c,h,p=0;if("function"==typeof n){r=Array.isArray(r)?r:[...r],c=new Set;for(let e of t){let t;for(let o of r)if(n(e,o)&&(t=!0,i&&c.add(o),yield a?l?[...e,...o]:[...e,o]:l?[e,...o]:[e,o],++p===s))return;o&&!t&&u.add(e)}}else{let e,c;n[Symbol.iterator]&&"string"!=typeof n?[e,c]=n:e=c=n,h=new Map;for(let e of r)h.has(e[c])?h.get(e[c]).push(e):h.set(e[c],[e]);for(let r of t)if(h.has(r[e])){for(let t of h.get(r[e]))if(yield a?l?[...r,...t]:[...r,t]:l?[r,...t]:[r,t],++p===s)return;i&&(h.get(r[e])._cakeMatched=!0)}else o&&u.add(r)}if(o)for(let e of u)if(yield a?[...e,null]:[e,null],++p===s)return;if(i)if(h){for(let e of h.values())if(!e._cakeMatched)for(let t of e)if(yield l?[null,...t]:[null,t],++p===s)return}else for(let e of r)if(!c.has(e)&&(yield l?[null,...e]:[null,e],++p===s))return}();return o._cakeJoinGen=!0,o},_semiJoin(e,t,r,n,s=1/0){const o=function*(){if((s=Math.floor(s))<1)return;const o=t._cakeJoinGen;let i=0;if("function"==typeof n){r=Array.isArray(r)?r:[...r];for(let a of t){let t;for(let e of r)if(n(a,e)){t=!0;break}if((t&&!e||!t&&e)&&(yield o?a:[a],++i===s))return}}else{let a,l;n[Symbol.iterator]&&"string"!=typeof n?[a,l]=n:a=l=n;const u=new Set;for(let e of r)u.add(e[l]);for(let r of t){let t=u.has(r[a]);if((t&&!e||!t&&e)&&(yield o?r:[r],++i===s))return}}}();return o._cakeJoinGen=!0,o},_random(e,t){return Math.random()*(t-e)+e},_randomInt(e,t){return e=Math.floor(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},_categorical(e,t){const r=Math.random()*t;for(var n=0;n<e.length-1;n++)if(r<e[n])return n;return n},_normal(e,t,r){let n=null;return()=>{let s;if(null===n){let r,o,i;do{r=2*Math.random()-1,o=2*Math.random()-1,i=r*r+o*o}while(i>=1||!i);i=Math.sqrt(-2*Math.log(i)/i),n=o*i,s=e+t*r*i}else s=n*t+e,n=null;return r?Math.exp(s):s}},_binomial(e,t){for(var r=0,n=0;n<e;n++)r+=Math.random()<t;return r},_exponential(e){return-Math.log(1-Math.random())/e},_geometric(e){return 1+Math.floor(Math.log(Math.random())/Math.log(1-e))},_sample(e,t,...r){let n;if(void 0===t)n=e(...r);else{n=[];for(let s=0;s<t;s++)n.push(e(...r))}return n},_ew(e,t){let r;if("string"!=typeof e&&e&&e[Symbol.iterator]){r=[];for(let n of e)r.push(t(n))}else r=t(e);return r},_mdArray(e,t){return function r(n){const s=new Array(+e[n]);if(n===e.length-1)void 0!==t&&s.fill(t);else for(let t=0;t<+e[n];t++)s[t]=r(n+1);return s}(0)},_encode(e,t,r,n=!0){let s=[];for(let o of t){let t=e?document.createElementNS("http://www.w3.org/2000/svg",r):document.createElement(r);n&&(t.__data__=o),s.push(t)}return s},_createElm(e,t){return e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t)},_create(e,t,r){let n;if(void 0===r)n=this._createElm(e,t);else{n=[];for(let s=0;s<r;s++)n.push(this._createElm(e,t))}return n},_getAttr(e,t){return e.getAttribute(t)},_getProp(e,t){return e[t]},_getStyle(e,t){return window.getComputedStyle(e).getPropertyValue(t)},_apsGet(e,t,r){let n;if("string"==typeof t&&(t=document.querySelectorAll(t)),t&&t[Symbol.iterator]){n=[];for(let s of t)n.push(e(s,r))}else n=e(t,r);return n},_setAttr(e,t,r){e.setAttribute(t,r)},_setProp(e,t,r){e[t]=r},_setStyle(e,t,r){e.style.setProperty(t,r)},_apsSet(e,t,r,n){let s=0;t=this._autoSelect(t);for(let o of t&&t[Symbol.iterator]?t:[t])e(o,r,"function"==typeof n?n.call(o,o.__data__,s++):n);return t},_addRemoveClass(e,t,r){if(e=e?"add":"remove",r=r.trim().split(/^|\s+/),(t=this._autoSelect(t))&&t[Symbol.iterator])for(let n of t)n.classList[e](...r);else t.classList[e](...r);return t},_eachElement(e,t,r){if((t=this._autoSelect(t))&&t[Symbol.iterator])for(let n of t)e(n,r);else e(t,r);return t},*to(e,t,r=1){for(r=+r,t=+t,t+=1e-14*(t-(e=+e));r>0?e<t:e>t;)yield e,e+=r},*linSpace(e,t,r){if(1==(r=+r))yield(+e+ +t)/2;else{const n=(+t-+e)/(r-1);e=+e-n;for(let t=0;t<r;t++)yield e+=n}},array(...e){const t=[];for(let r of e)if("string"!=typeof r&&r&&r[Symbol.iterator])for(let e of r)t.push(e);else t.push(r);return t},print(e){return console.log(e),e},chg(e,t,r){return e[t]=r,e},getter(e,t,r){return Object.defineProperty(e,t,{get:r,configurable:!0,enumerable:!0})},setter(e,t,r){return Object.defineProperty(e,t,{set:r,configurable:!0,enumerable:!0})},reduce(e,t,r){let n=0;for(let s of e)r=t(r,s,n++,e);return r},pick(e,t){let r=[];for(let n of e)r.push(n[t]);return r},mapAt(e,t,r){let n=[];for(let s of e)n.push(this._at(s,t,r));return n},mapAtUse:["_at"],interpolate(e,t,r){return+e*(1-r)+ +t*r},group(e,t,r){return this._group(!1,e,this._callback(t),r)},groupUse:["_callback","_group"],groupCount(e,t,r){return this._group(!0,e,this._callback(t),r)},groupCountUse:["_callback","_group"],bin(e,t,r,n){return this._bin(!1,e,t,r,n)},binUse:["_bin"],binCount(e,t,r,n){return this._bin(!0,e,t,r,n)},binCountUse:["_bin"],sumCumu(e,t){t=this._callback(t);let r=0,n=[],s=0;for(let o of e)n.push(r+=+t(o,s++,e));return n},sumCumuUse:["_callback"],sum(e,t){return this._sum(!1,e,this._callback(t))},sumUse:["_callback","_sum"],mean(e,t){return this._sum(!0,e,this._callback(t))},meanUse:["_callback","_sum"],minIndex(e,t){return this._minMaxIndex(!1,e,this._callback(t))},minIndexUse:["_callback","_minMaxIndex"],maxIndex(e,t){return this._minMaxIndex(!0,e,this._callback(t))},maxIndexUse:["_callback","_minMaxIndex"],min(e,t){return this._minMax(!1,e,this._callback(t))},minUse:["_callback","_minMax"],max(e,t){return this._minMax(!0,e,this._callback(t))},maxUse:["_callback","_minMax"],variance(e,t){return this._varDev(!1,!1,e,this._callback(t))},varianceUse:["_callback","_varDev"],variancePop(e,t){return this._varDev(!1,!0,e,this._callback(t))},variancePopUse:["_callback","_varDev"],deviation(e,t){return this._varDev(!0,!1,e,this._callback(t))},deviationUse:["_callback","_varDev"],deviationPop(e,t){return this._varDev(!0,!0,e,this._callback(t))},deviationPopUse:["_callback","_varDev"],covariance(e,t,r){return this._covCorr(!1,!1,e,this._callback(t),this._callback(r))},covarianceUse:["_callback","_covCorr"],covariancePop(e,t,r){return this._covCorr(!1,!0,e,this._callback(t),this._callback(r))},covariancePopUse:["_callback","_covCorr"],correlation(e,t,r){return this._covCorr(!0,!1,e,this._callback(t),this._callback(r))},correlationUse:["_callback","_covCorr"],median(e,t,r){return this._quantile(e,.5,this._callback(t),r)},medianUse:["_callback","_quantile"],quantile(e,t,r,n){return this._quantile(e,t,this._callback(r),n)},quantileUse:["_callback","_quantile"],orderIndex(e,t,r){return this._orderIndex(e,this._compare(t,r))},orderIndexUse:["_compare","_orderIndex"],order(e,t,r){return[...e].sort(this._compare(t,r))},orderUse:["_compare"],rank(e,t,r){e=Array.isArray(e)?e:[...e],t=this._compare(t,r);const n=this._orderIndex(e,t),s=e.length,o=new Array(s);let i,a;for(let r=0;r<s;r++){let s=n[r];0!==r&&0===t(e[s],a)||(i=r,a=e[s]),o[s]=i}return o},rankUse:["_compare","_orderIndex"],some(e,t){t=this._callback(t);let r=0;for(let n of e)if(t(n,r++,e))return!0;return!1},someUse:["_callback"],every(e,t){t=this._callback(t);let r=0;for(let n of e)if(!t(n,r++,e))return!1;return!0},everyUse:["_callback"],filter(e,t){t=this._callback(t);let r=[],n=0;for(let s of e)t(s,n++,e)&&r.push(s);return r},filterUse:["_callback"],filterIndex(e,t){t=this._callback(t);let r=[],n=0;for(let s of e)t(s,n,e)&&r.push(n),n++;return r},filterIndexUse:["_callback"],count(e,t){t=this._callback(t);let r=0,n=0;for(let s of e)t(s,n++,e)&&r++;return r},countUse:["_callback"],findIndex(e,t){t=this._callback(t);let r=0;for(let n of e){if(t(n,r,e))return r;r++}return-1},findIndexUse:["_callback"],find(e,t){t=this._callback(t);let r=0;for(let n of e)if(t(n,r++,e))return n},findUse:["_callback"],innerJoin(...e){return this._join("i",...e)},innerJoinUse:["_join"],outerJoin(...e){return this._join("o",...e)},outerJoinUse:["_join"],leftJoin(...e){return this._join("l",...e)},leftJoinUse:["_join"],rightJoin(...e){return this._join("r",...e)},rightJoinUse:["_join"],crossJoin(e,t,r){return this._join("i",e,t,()=>1,r)},crossJoinUse:["_join"],semiJoin(...e){return this._semiJoin(!1,...e)},semiJoinUse:["_semiJoin"],antiJoin(...e){return this._semiJoin(!0,...e)},antiJoinUse:["_semiJoin"],crush(e,...t){let r=[];const n=[],s=[];for(let e of t)if(e){let t=e.prefix;n.push(null==t?"":String(t)),t=e.keep,s.push(t?Array.isArray(t)?t:[...t]:null)}else n.push(""),s.push(null);for(let t of e){let e={},o=0;for(let r of t){if("object"==typeof r&&null!==r){let t=n[o]||"";if(s[o])for(let n of s[o])r.hasOwnProperty(n)&&(e[t+n]=r[n]);else for(let n in r)r.hasOwnProperty(n)&&(e[t+n]=r[n])}o++}r.push(e)}return r},arrObj(e,t){let r=[];for(let n of t||Object.keys(e)){let t=0;for(let s of e[n])(r[t]||(r[t]={}))[n]=s,t++}return r},objArr(e,t){let r={},n=0;for(let s of e){for(let e of t||Object.keys(s))(r[e]||(r[e]=[]))[n]=s[e];n++}return r},transpose(e){let t=[],r=0;for(let n of e){let e=0;for(let s of n)(t[e]||(t[e]=[]))[r]=s,e++;r++}return t},random(e=0,t=1,r){return this._sample(this._random,r,+e,+t)},randomUse:["_sample","_random"],randomInt(e=0,t=2,r){return this._sample(this._randomInt,r,+e,+t)},randomIntUse:["_sample","_randomInt"],categorical(e,t){let r=[],n=0;for(let t of e)r.push(n+=+t);return this._sample(this._categorical,t,r,n)},categoricalUse:["_sample","_categorical"],normal(e=0,t=1,r){return this._sample(this._normal(+e,+t),r)},normalUse:["_sample","_normal"],logNormal(e=0,t=1,r){return this._sample(this._normal(+e,+t,!0),r)},logNormalUse:["_sample","_normal"],binomial(e,t=.5,r){return this._sample(this._binomial,r,+e,+t)},binomialUse:["_sample","_binomial"],exponential(e,t){return this._sample(this._exponential,t,+e)},exponentialUse:["_sample","_exponential"],geometric(e=.5,t){return this._sample(this._geometric,t,+e)},geometricUse:["_sample","_geometric"],shuffle(e){for(let t=(e=[...e]).length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1));if(t!==r){const n=e[t];e[t]=e[r],e[r]=n}}return e},period(e,t){return new Promise(r=>setTimeout(()=>r(t),e))},at(...e){return this._at(...e)},atUse:["_at"],ones(...e){return this._mdArray(e,1)},onesUse:["_mdArray"],zeros(...e){return this._mdArray(e,0)},zerosUse:["_mdArray"],empties(...e){return this._mdArray(e)},emptiesUse:["_mdArray"],difference(e,...t){e=new Set(e);for(let r of t)for(let t of r)e.delete(t);return e},intersection(e,...t){e=new Set(e),t=t.map(e=>e instanceof Set?e:new Set(e));e:for(let r of e)for(let n of t)if(!n.has(r)){e.delete(r);continue e}return e},union(...e){const t=new Set;for(let r of e)for(let e of r)t.add(e);return t},select(...e){return 1===e.length?document.querySelector(e[0]):this._first(e[0]).querySelector(e[1])},selectUse:["_first"],selectAll(...e){return 1===e.length?[...document.querySelectorAll(e[0])]:[...this._first(e[0]).querySelectorAll(e[1])]},selectAllUse:["_first"],insert(e,t,r=(()=>null)){e=this._first(e),t="function"==typeof t?t.call(e,e.__data__):this._autoSelect(t),r=this._first(r.call(e,e.__data__));for(let n of t&&t[Symbol.iterator]?t:[t])e.insertBefore(n,r);return t},insertUse:["_first","_autoSelect"],insertEach(e,t,r=(()=>null)){let n=[],s=0;"string"==typeof e?e=document.querySelectorAll(e):e&&e[Symbol.iterator]||(e=[e]);for(let o of e){let e=t.call(o,o.__data__,s),i=this._first(r.call(o,o.__data__,s++));n.push(e);for(let t of e&&e[Symbol.iterator]?e:[e])o.insertBefore(t,i)}return n},insertEachUse:["_first"],into(e,t,r=(()=>null)){t=this._first(t),"function"==typeof e?e=e.call(t,t.__data__):"string"==typeof e&&(e=document.querySelectorAll(e)),r=this._first(r.call(t,t.__data__));for(let n of e&&e[Symbol.iterator]?e:[e])t.insertBefore(n,r);return t},intoUse:["_first"],encode(e,t,r){return this._encode(!1,e,t,r)},encodeUse:["_encode"],encodeSVG(e,t,r){return this._encode(!0,e,t,r)},encodeSVGUse:["_encode"],create(e,t){return this._create(!1,e,t)},createUse:$,createSVG(e,t){return this._create(!0,e,t)},createSVGUse:$,attr(...e){return 2===e.length?this._apsGet(this._getAttr,...e):this._apsSet(this._setAttr,...e)},attrUse:["_apsGet","_apsSet","_getAttr","_setAttr","_autoSelect"],prop(...e){return 2===e.length?this._apsGet(this._getProp,...e):this._apsSet(this._setProp,...e)},propUse:["_apsGet","_apsSet","_getProp","_setProp","_autoSelect"],style(...e){return 2===e.length?this._apsGet(this._getStyle,...e):this._apsSet(this._setStyle,...e)},styleUse:["_apsGet","_apsSet","_getStyle","_setStyle","_autoSelect"],text(...e){return 1===e.length?this._apsGet(this._getProp,e[0],"textContent"):this._apsSet(this._setProp,e[0],"textContent",e[1])},textUse:["_apsGet","_apsSet","_getProp","_setProp","_autoSelect"],html(...e){return 1===e.length?this._apsGet(this._getProp,e[0],"innerHTML"):this._apsSet(this._setProp,e[0],"innerHTML",e[1])},htmlUse:["_apsGet","_apsSet","_getProp","_setProp","_autoSelect"],remove(e){if((e=this._autoSelect(e))&&e[Symbol.iterator])for(let t of e)t.parentNode.removeChild(t);else e.parentNode.removeChild(e);return e},removeUse:["_autoSelect"],lower(e){if((e=this._autoSelect(e))&&e[Symbol.iterator])for(let t of e){let e=t.parentNode;e.insertBefore(t,e.firstChild)}else{let t=e.parentNode;t.insertBefore(e,t.firstChild)}return e},lowerUse:["_autoSelect"],raise(e){if((e=this._autoSelect(e))&&e[Symbol.iterator])for(let t of e)t.parentNode.insertBefore(t,null);else e.parentNode.insertBefore(e,null);return e},raiseUse:["_autoSelect"],addClass(e,t){return this._addRemoveClass(!0,e,t)},addClassUse:["_autoSelect","_addRemoveClass"],removeClass(e,t){return this._addRemoveClass(!1,e,t)},removeClassUse:["_autoSelect","_addRemoveClass"],toggleClass(e,t){return this._eachElement((e,t)=>e.classList.toggle(t),e,t)},toggleClassUse:["_autoSelect","_eachElement"],removeAttr(e,t){return this._eachElement((e,t)=>e.removeAttribute(t),e,t)},removeAttrUse:["_autoSelect","_eachElement"],removeStyle(e,t){return this._eachElement((e,t)=>e.style.removeProperty(t),e,t)},removeStyleUse:["_autoSelect","_eachElement"],hasClass(e,t){let r;if("string"==typeof e&&(e=document.querySelectorAll(e)),e&&e[Symbol.iterator]){r=[];for(let n of e)r.push(n.classList.contains(t))}else r=e.classList.contains(t);return r},hasAttr(e,t){let r;if("string"==typeof e&&(e=document.querySelectorAll(e)),e&&e[Symbol.iterator]){r=[];for(let n of e)r.push(n.hasAttribute(t))}else r=e.hasAttribute(t);return r},on(e,t,r,n=!1){e=this._autoSelect(e),t=t.trim().split(/^|\s+/);for(let s of e&&e[Symbol.iterator]?e:[e]){let e=e=>r.call(s,s.__data__,e);s.__on__||(s.__on__={});for(let o of t){if(s.__on__[o]){if(s.__on__[o].has(r))continue}else s.__on__[o]=new Map;s.addEventListener(o,e,n),s.__on__[o].set(r,e)}}return e},onUse:["_autoSelect"],off(e,t,r,n=!1){e=this._autoSelect(e),t=t.trim().split(/^|\s+/);for(let s of e&&e[Symbol.iterator]?e:[e])if(s.__on__)for(let e of t){let t=s.__on__[e]?s.__on__[e].get(r):void 0;t&&(s.removeEventListener(e,t,n),s.__on__[e].delete(r))}return e},offUse:["_autoSelect"],sketch({width:e=300,height:t=300,context:r="2d",scale:n=!0,...s}={}){let o=window.devicePixelRatio,i=document.createElement("canvas"),a=i.getContext(r,s);return n&&"2d"===r?(i.style.width=e+"px",i.style.height=t+"px",i.width=e*o,i.height=t*o,a.scale(o,o)):(i.width=e,i.height=t),[i,a]},$a(e){return this._create(!1,"a",e)},$aUse:$,$abbr(e){return this._create(!1,"abbr",e)},$abbrUse:$,$address(e){return this._create(!1,"address",e)},$addressUse:$,$area(e){return this._create(!1,"area",e)},$areaUse:$,$article(e){return this._create(!1,"article",e)},$articleUse:$,$aside(e){return this._create(!1,"aside",e)},$asideUse:$,$audio(e){return this._create(!1,"audio",e)},$audioUse:$,$b(e){return this._create(!1,"b",e)},$bUse:$,$base(e){return this._create(!1,"base",e)},$baseUse:$,$bdi(e){return this._create(!1,"bdi",e)},$bdiUse:$,$bdo(e){return this._create(!1,"bdo",e)},$bdoUse:$,$blockquote(e){return this._create(!1,"blockquote",e)},$blockquoteUse:$,$body(e){return this._create(!1,"body",e)},$bodyUse:$,$br(e){return this._create(!1,"br",e)},$brUse:$,$button(e){return this._create(!1,"button",e)},$buttonUse:$,$canvas(e){return this._create(!1,"canvas",e)},$canvasUse:$,$caption(e){return this._create(!1,"caption",e)},$captionUse:$,$cite(e){return this._create(!1,"cite",e)},$citeUse:$,$code(e){return this._create(!1,"code",e)},$codeUse:$,$col(e){return this._create(!1,"col",e)},$colUse:$,$colgroup(e){return this._create(!1,"colgroup",e)},$colgroupUse:$,$data(e){return this._create(!1,"data",e)},$dataUse:$,$datalist(e){return this._create(!1,"datalist",e)},$datalistUse:$,$dd(e){return this._create(!1,"dd",e)},$ddUse:$,$del(e){return this._create(!1,"del",e)},$delUse:$,$details(e){return this._create(!1,"details",e)},$detailsUse:$,$dfn(e){return this._create(!1,"dfn",e)},$dfnUse:$,$dialog(e){return this._create(!1,"dialog",e)},$dialogUse:$,$div(e){return this._create(!1,"div",e)},$divUse:$,$dl(e){return this._create(!1,"dl",e)},$dlUse:$,$dt(e){return this._create(!1,"dt",e)},$dtUse:$,$em(e){return this._create(!1,"em",e)},$emUse:$,$embed(e){return this._create(!1,"embed",e)},$embedUse:$,$fieldset(e){return this._create(!1,"fieldset",e)},$fieldsetUse:$,$figcaption(e){return this._create(!1,"figcaption",e)},$figcaptionUse:$,$figure(e){return this._create(!1,"figure",e)},$figureUse:$,$footer(e){return this._create(!1,"footer",e)},$footerUse:$,$form(e){return this._create(!1,"form",e)},$formUse:$,$h1(e){return this._create(!1,"h1",e)},$h1Use:$,$h2(e){return this._create(!1,"h2",e)},$h2Use:$,$h3(e){return this._create(!1,"h3",e)},$h3Use:$,$h4(e){return this._create(!1,"h4",e)},$h4Use:$,$h5(e){return this._create(!1,"h5",e)},$h5Use:$,$h6(e){return this._create(!1,"h6",e)},$h6Use:$,$head(e){return this._create(!1,"head",e)},$headUse:$,$header(e){return this._create(!1,"header",e)},$headerUse:$,$hgroup(e){return this._create(!1,"hgroup",e)},$hgroupUse:$,$hr(e){return this._create(!1,"hr",e)},$hrUse:$,$i(e){return this._create(!1,"i",e)},$iUse:$,$iframe(e){return this._create(!1,"iframe",e)},$iframeUse:$,$img(e){return this._create(!1,"img",e)},$imgUse:$,$input(e){return this._create(!1,"input",e)},$inputUse:$,$ins(e){return this._create(!1,"ins",e)},$insUse:$,$kbd(e){return this._create(!1,"kbd",e)},$kbdUse:$,$label(e){return this._create(!1,"label",e)},$labelUse:$,$legend(e){return this._create(!1,"legend",e)},$legendUse:$,$li(e){return this._create(!1,"li",e)},$liUse:$,$link(e){return this._create(!1,"link",e)},$linkUse:$,$main(e){return this._create(!1,"main",e)},$mainUse:$,$map(e){return this._create(!1,"map",e)},$mapUse:$,$mark(e){return this._create(!1,"mark",e)},$markUse:$,$menu(e){return this._create(!1,"menu",e)},$menuUse:$,$meta(e){return this._create(!1,"meta",e)},$metaUse:$,$meter(e){return this._create(!1,"meter",e)},$meterUse:$,$nav(e){return this._create(!1,"nav",e)},$navUse:$,$noscript(e){return this._create(!1,"noscript",e)},$noscriptUse:$,$object(e){return this._create(!1,"object",e)},$objectUse:$,$ol(e){return this._create(!1,"ol",e)},$olUse:$,$optgroup(e){return this._create(!1,"optgroup",e)},$optgroupUse:$,$option(e){return this._create(!1,"option",e)},$optionUse:$,$output(e){return this._create(!1,"output",e)},$outputUse:$,$p(e){return this._create(!1,"p",e)},$pUse:$,$param(e){return this._create(!1,"param",e)},$paramUse:$,$picture(e){return this._create(!1,"picture",e)},$pictureUse:$,$pre(e){return this._create(!1,"pre",e)},$preUse:$,$progress(e){return this._create(!1,"progress",e)},$progressUse:$,$q(e){return this._create(!1,"q",e)},$qUse:$,$rb(e){return this._create(!1,"rb",e)},$rbUse:$,$rp(e){return this._create(!1,"rp",e)},$rpUse:$,$rt(e){return this._create(!1,"rt",e)},$rtUse:$,$rtc(e){return this._create(!1,"rtc",e)},$rtcUse:$,$ruby(e){return this._create(!1,"ruby",e)},$rubyUse:$,$s(e){return this._create(!1,"s",e)},$sUse:$,$samp(e){return this._create(!1,"samp",e)},$sampUse:$,$script(e){return this._create(!1,"script",e)},$scriptUse:$,$section(e){return this._create(!1,"section",e)},$sectionUse:$,$select(e){return this._create(!1,"select",e)},$selectUse:$,$slot(e){return this._create(!1,"slot",e)},$slotUse:$,$small(e){return this._create(!1,"small",e)},$smallUse:$,$source(e){return this._create(!1,"source",e)},$sourceUse:$,$span(e){return this._create(!1,"span",e)},$spanUse:$,$strong(e){return this._create(!1,"strong",e)},$strongUse:$,$style(e){return this._create(!1,"style",e)},$styleUse:$,$sub(e){return this._create(!1,"sub",e)},$subUse:$,$summary(e){return this._create(!1,"summary",e)},$summaryUse:$,$sup(e){return this._create(!1,"sup",e)},$supUse:$,$table(e){return this._create(!1,"table",e)},$tableUse:$,$tbody(e){return this._create(!1,"tbody",e)},$tbodyUse:$,$td(e){return this._create(!1,"td",e)},$tdUse:$,$template(e){return this._create(!1,"template",e)},$templateUse:$,$textarea(e){return this._create(!1,"textarea",e)},$textareaUse:$,$tfoot(e){return this._create(!1,"tfoot",e)},$tfootUse:$,$th(e){return this._create(!1,"th",e)},$thUse:$,$thead(e){return this._create(!1,"thead",e)},$theadUse:$,$time(e){return this._create(!1,"time",e)},$timeUse:$,$title(e){return this._create(!1,"title",e)},$titleUse:$,$tr(e){return this._create(!1,"tr",e)},$trUse:$,$track(e){return this._create(!1,"track",e)},$trackUse:$,$u(e){return this._create(!1,"u",e)},$uUse:$,$ul(e){return this._create(!1,"ul",e)},$ulUse:$,$var(e){return this._create(!1,"var",e)},$varUse:$,$video(e){return this._create(!1,"video",e)},$videoUse:$,$wbr(e){return this._create(!1,"wbr",e)},$wbrUse:$,$animate(e){return this._create(!0,"animate",e)},$animateUse:$,$animateMotion(e){return this._create(!0,"animateMotion",e)},$animateMotionUse:$,$animateTransform(e){return this._create(!0,"animateTransform",e)},$animateTransformUse:$,$circle(e){return this._create(!0,"circle",e)},$circleUse:$,$clipPath(e){return this._create(!0,"clipPath",e)},$clipPathUse:$,$defs(e){return this._create(!0,"defs",e)},$defsUse:$,$desc(e){return this._create(!0,"desc",e)},$descUse:$,$discard(e){return this._create(!0,"discard",e)},$discardUse:$,$ellipse(e){return this._create(!0,"ellipse",e)},$ellipseUse:$,$feBlend(e){return this._create(!0,"feBlend",e)},$feBlendUse:$,$feColorMatrix(e){return this._create(!0,"feColorMatrix",e)},$feColorMatrixUse:$,$feComponentTransfer(e){return this._create(!0,"feComponentTransfer",e)},$feComponentTransferUse:$,$feComposite(e){return this._create(!0,"feComposite",e)},$feCompositeUse:$,$feConvolveMatrix(e){return this._create(!0,"feConvolveMatrix",e)},$feConvolveMatrixUse:$,$feDiffuseLighting(e){return this._create(!0,"feDiffuseLighting",e)},$feDiffuseLightingUse:$,$feDisplacementMap(e){return this._create(!0,"feDisplacementMap",e)},$feDisplacementMapUse:$,$feDistantLight(e){return this._create(!0,"feDistantLight",e)},$feDistantLightUse:$,$feDropShadow(e){return this._create(!0,"feDropShadow",e)},$feDropShadowUse:$,$feFlood(e){return this._create(!0,"feFlood",e)},$feFloodUse:$,$feFuncA(e){return this._create(!0,"feFuncA",e)},$feFuncAUse:$,$feFuncB(e){return this._create(!0,"feFuncB",e)},$feFuncBUse:$,$feFuncG(e){return this._create(!0,"feFuncG",e)},$feFuncGUse:$,$feFuncR(e){return this._create(!0,"feFuncR",e)},$feFuncRUse:$,$feGaussianBlur(e){return this._create(!0,"feGaussianBlur",e)},$feGaussianBlurUse:$,$feImage(e){return this._create(!0,"feImage",e)},$feImageUse:$,$feMerge(e){return this._create(!0,"feMerge",e)},$feMergeUse:$,$feMergeNode(e){return this._create(!0,"feMergeNode",e)},$feMergeNodeUse:$,$feMorphology(e){return this._create(!0,"feMorphology",e)},$feMorphologyUse:$,$feOffset(e){return this._create(!0,"feOffset",e)},$feOffsetUse:$,$fePointLight(e){return this._create(!0,"fePointLight",e)},$fePointLightUse:$,$feSpecularLighting(e){return this._create(!0,"feSpecularLighting",e)},$feSpecularLightingUse:$,$feSpotLight(e){return this._create(!0,"feSpotLight",e)},$feSpotLightUse:$,$feTile(e){return this._create(!0,"feTile",e)},$feTileUse:$,$feTurbulence(e){return this._create(!0,"feTurbulence",e)},$feTurbulenceUse:$,$filter(e){return this._create(!0,"filter",e)},$filterUse:$,$foreignObject(e){return this._create(!0,"foreignObject",e)},$foreignObjectUse:$,$g(e){return this._create(!0,"g",e)},$gUse:$,$hatch(e){return this._create(!0,"hatch",e)},$hatchUse:$,$hatchpath(e){return this._create(!0,"hatchpath",e)},$hatchpathUse:$,$image(e){return this._create(!0,"image",e)},$imageUse:$,$line(e){return this._create(!0,"line",e)},$lineUse:$,$linearGradient(e){return this._create(!0,"linearGradient",e)},$linearGradientUse:$,$marker(e){return this._create(!0,"marker",e)},$markerUse:$,$mask(e){return this._create(!0,"mask",e)},$maskUse:$,$metadata(e){return this._create(!0,"metadata",e)},$metadataUse:$,$mpath(e){return this._create(!0,"mpath",e)},$mpathUse:$,$path(e){return this._create(!0,"path",e)},$pathUse:$,$pattern(e){return this._create(!0,"pattern",e)},$patternUse:$,$polygon(e){return this._create(!0,"polygon",e)},$polygonUse:$,$polyline(e){return this._create(!0,"polyline",e)},$polylineUse:$,$radialGradient(e){return this._create(!0,"radialGradient",e)},$radialGradientUse:$,$rect(e){return this._create(!0,"rect",e)},$rectUse:$,$set(e){return this._create(!0,"set",e)},$setUse:$,$solidcolor(e){return this._create(!0,"solidcolor",e)},$solidcolorUse:$,$stop(e){return this._create(!0,"stop",e)},$stopUse:$,$svg(e){return this._create(!0,"svg",e)},$svgUse:$,$switch(e){return this._create(!0,"switch",e)},$switchUse:$,$symbol(e){return this._create(!0,"symbol",e)},$symbolUse:$,$text(e){return this._create(!0,"text",e)},$textUse:$,$textPath(e){return this._create(!0,"textPath",e)},$textPathUse:$,$tspan(e){return this._create(!0,"tspan",e)},$tspanUse:$,$use(e){return this._create(!0,"use",e)},$useUse:$,$view(e){return this._create(!0,"view",e)},$viewUse:$,abs(e){return this._ew(e,Math.abs)},absUse:["_ew"],acos(e){return this._ew(e,Math.acos)},acosUse:["_ew"],acosh(e){return this._ew(e,Math.acosh)},acoshUse:["_ew"],asin(e){return this._ew(e,Math.asin)},asinUse:["_ew"],asinh(e){return this._ew(e,Math.asinh)},asinhUse:["_ew"],atan(e){return this._ew(e,Math.atan)},atanUse:["_ew"],atanh(e){return this._ew(e,Math.atanh)},atanhUse:["_ew"],cbrt(e){return this._ew(e,Math.cbrt)},cbrtUse:["_ew"],ceil(e){return this._ew(e,Math.ceil)},ceilUse:["_ew"],clz32(e){return this._ew(e,Math.clz32)},clz32Use:["_ew"],cos(e){return this._ew(e,Math.cos)},cosUse:["_ew"],cosh(e){return this._ew(e,Math.cosh)},coshUse:["_ew"],exp(e){return this._ew(e,Math.exp)},expUse:["_ew"],expm1(e){return this._ew(e,Math.expm1)},expm1Use:["_ew"],floor(e){return this._ew(e,Math.floor)},floorUse:["_ew"],fround(e){return this._ew(e,Math.fround)},froundUse:["_ew"],log(e){return this._ew(e,Math.log)},logUse:["_ew"],log10(e){return this._ew(e,Math.log10)},log10Use:["_ew"],log1p(e){return this._ew(e,Math.log1p)},log1pUse:["_ew"],log2(e){return this._ew(e,Math.log2)},log2Use:["_ew"],round(e){return this._ew(e,Math.round)},roundUse:["_ew"],sign(e){return this._ew(e,Math.sign)},signUse:["_ew"],sin(e){return this._ew(e,Math.sin)},sinUse:["_ew"],sinh(e){return this._ew(e,Math.sinh)},sinhUse:["_ew"],sqrt(e){return this._ew(e,Math.sqrt)},sqrtUse:["_ew"],tan(e){return this._ew(e,Math.tan)},tanUse:["_ew"],tanh(e){return this._ew(e,Math.tanh)},tanhUse:["_ew"],trunc(e){return this._ew(e,Math.trunc)},truncUse:["_ew"],toUpperCase(e){return this._ew(e,e=>String(e).toUpperCase())},toUpperCaseUse:["_ew"],toLowerCase(e){return this._ew(e,e=>String(e).toLowerCase())},toLowerCaseUse:["_ew"],trim(e){return this._ew(e,e=>String(e).trim())},trimUse:["_ew"],trimEnd(e){return this._ew(e,e=>String(e).trimEnd())},trimEndUse:["_ew"],trimStart(e){return this._ew(e,e=>String(e).trimStart())},trimStartUse:["_ew"],neg(e){return this._ew(e,e=>-e)},negUse:["_ew"],boolean(e){return this._ew(e,Boolean)},booleanUse:["_ew"],number(e){return this._ew(e,Number)},numberUse:["_ew"],string(e){return this._ew(e,String)},stringUse:["_ew"],date(e){return this._ew(e,e=>new Date(e))},dateUse:["_ew"],not(e){return this._ew(e,e=>!e)},notUse:["_ew"]};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function w(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function y(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})})),t}var U=Object.freeze({__proto__:null,default:{}});function v(e,t){for(var r=0,n=e.length-1;n>=0;n--){var s=e[n];"."===s?e.splice(n,1):".."===s?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}var S=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,C=function(e){return S.exec(e).slice(1)};function M(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?arguments[r]:"/";if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(e=n+"/"+e,t="/"===n.charAt(0))}return(t?"/":"")+(e=v(R(e.split("/"),(function(e){return!!e})),!t).join("/"))||"."}function k(e){var t=x(e),r="/"===N(e,-1);return(e=v(R(e.split("/"),(function(e){return!!e})),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e}function x(e){return"/"===e.charAt(0)}function A(){var e=Array.prototype.slice.call(arguments,0);return k(R(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))}function E(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=M(e).substr(1),t=M(t).substr(1);for(var n=r(e.split("/")),s=r(t.split("/")),o=Math.min(n.length,s.length),i=o,a=0;a<o;a++)if(n[a]!==s[a]){i=a;break}var l=[];for(a=i;a<n.length;a++)l.push("..");return(l=l.concat(s.slice(i))).join("/")}function L(e){var t=C(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."}function j(e,t){var r=C(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r}function O(e){return C(e)[3]}var P={extname:O,basename:j,dirname:L,sep:"/",delimiter:":",relative:E,join:A,isAbsolute:x,normalize:k,resolve:M};function R(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var N="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)},G=Object.freeze({__proto__:null,resolve:M,normalize:k,isAbsolute:x,join:A,relative:E,sep:"/",delimiter:":",dirname:L,basename:j,extname:O,default:P}),I=y(U),z=y(G),T=w(function(e){var t={exports:{}};return e(t,t.exports),t.exports}((function(e,t){var r;"undefined"!=typeof self&&self,r=function(e,t){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=5)}([function(e,t){t.getArg=function(e,t,r){if(t in e)return e[t];if(3===arguments.length)return r;throw new Error('"'+t+'" is a required argument.')};const r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function s(e){const t=e.match(r);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){let t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}t.urlParse=s,t.urlGenerate=o;const i=function(e){const t=[];return function(r){for(let e=0;e<t.length;e++)if(t[e].input===r){const r=t[0];return t[0]=t[e],t[e]=r,t[0].result}const n=e(r);return t.unshift({input:r,result:n}),t.length>32&&t.pop(),n}}((function(e){let r=e;const n=s(e);if(n){if(!n.path)return e;r=n.path}const i=t.isAbsolute(r),a=[];let l=0,u=0;for(;;){if(l=u,u=r.indexOf("/",l),-1===u){a.push(r.slice(l));break}for(a.push(r.slice(l,u));u<r.length&&"/"===r[u];)u++}let c=0;for(u=a.length-1;u>=0;u--){const e=a[u];"."===e?a.splice(u,1):".."===e?c++:c>0&&(""===e?(a.splice(u+1,c),c=0):(a.splice(u,2),c--))}return r=a.join("/"),""===r&&(r=i?"/":"."),n?(n.path=r,o(n)):r}));function a(e,t){""===e&&(e="."),""===t&&(t=".");const r=s(t),a=s(e);if(a&&(e=a.path||"/"),r&&!r.scheme)return a&&(r.scheme=a.scheme),o(r);if(r||t.match(n))return t;if(a&&!a.host&&!a.path)return a.host=t,o(a);const l="/"===t.charAt(0)?t:i(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=l,o(a)):l}t.normalize=i,t.join=a,t.isAbsolute=function(e){return"/"===e.charAt(0)||r.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");let r=0;for(;0!==t.indexOf(e+"/");){const n=e.lastIndexOf("/");if(n<0)return t;if((e=e.slice(0,n)).match(/^([^\/]+:\/)?\/*$/))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)};const l=!("__proto__"in Object.create(null));function u(e){return e}function c(e){if(!e)return!1;const t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(let r=t-10;r>=0;r--)if(36!==e.charCodeAt(r))return!1;return!0}function h(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=l?u:function(e){return c(e)?"$"+e:e},t.fromSetString=l?u:function(e){return c(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,r){let n=h(e.source,t.source);return 0!==n?n:(n=e.originalLine-t.originalLine,0!==n?n:(n=e.originalColumn-t.originalColumn,0!==n||r?n:(n=e.generatedColumn-t.generatedColumn,0!==n?n:(n=e.generatedLine-t.generatedLine,0!==n?n:h(e.name,t.name)))))},t.compareByGeneratedPositionsDeflated=function(e,t,r){let n=e.generatedLine-t.generatedLine;return 0!==n?n:(n=e.generatedColumn-t.generatedColumn,0!==n||r?n:(n=h(e.source,t.source),0!==n?n:(n=e.originalLine-t.originalLine,0!==n?n:(n=e.originalColumn-t.originalColumn,0!==n?n:h(e.name,t.name)))))},t.compareByGeneratedPositionsInflated=function(e,t){let r=e.generatedLine-t.generatedLine;return 0!==r?r:(r=e.generatedColumn-t.generatedColumn,0!==r?r:(r=h(e.source,t.source),0!==r?r:(r=e.originalLine-t.originalLine,0!==r?r:(r=e.originalColumn-t.originalColumn,0!==r?r:h(e.name,t.name)))))},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,r){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),r){const e=s(r);if(!e)throw new Error("sourceMapURL could not be parsed");if(e.path){const t=e.path.lastIndexOf("/");t>=0&&(e.path=e.path.substring(0,t+1))}t=a(o(e),t)}return i(t)}},function(e,t,r){const n=r(2),s=r(0),o=r(3).ArraySet,i=r(7).MappingList;class a{constructor(e){e||(e={}),this._file=s.getArg(e,"file",null),this._sourceRoot=s.getArg(e,"sourceRoot",null),this._skipValidation=s.getArg(e,"skipValidation",!1),this._sources=new o,this._names=new o,this._mappings=new i,this._sourcesContents=null}static fromSourceMap(e){const t=e.sourceRoot,r=new a({file:e.file,sourceRoot:t});return e.eachMapping((function(e){const n={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(n.source=e.source,null!=t&&(n.source=s.relative(t,n.source)),n.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(n.name=e.name)),r.addMapping(n)})),e.sources.forEach((function(n){let o=n;null!==t&&(o=s.relative(t,n)),r._sources.has(o)||r._sources.add(o);const i=e.sourceContentFor(n);null!=i&&r.setSourceContent(n,i)})),r}addMapping(e){const t=s.getArg(e,"generated"),r=s.getArg(e,"original",null);let n=s.getArg(e,"source",null),o=s.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,r,n,o),null!=n&&(n=String(n),this._sources.has(n)||this._sources.add(n)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=r&&r.line,originalColumn:null!=r&&r.column,source:n,name:o})}setSourceContent(e,t){let r=e;null!=this._sourceRoot&&(r=s.relative(this._sourceRoot,r)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[s.toSetString(r)]=t):this._sourcesContents&&(delete this._sourcesContents[s.toSetString(r)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))}applySourceMap(e,t,r){let n=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');n=e.file}const i=this._sourceRoot;null!=i&&(n=s.relative(i,n));const a=this._mappings.toArray().length>0?new o:this._sources,l=new o;this._mappings.unsortedForEach((function(t){if(t.source===n&&null!=t.originalLine){const n=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=n.source&&(t.source=n.source,null!=r&&(t.source=s.join(r,t.source)),null!=i&&(t.source=s.relative(i,t.source)),t.originalLine=n.line,t.originalColumn=n.column,null!=n.name&&(t.name=n.name))}const o=t.source;null==o||a.has(o)||a.add(o);const u=t.name;null==u||l.has(u)||l.add(u)}),this),this._sources=a,this._names=l,e.sources.forEach((function(t){const n=e.sourceContentFor(t);null!=n&&(null!=r&&(t=s.join(r,t)),null!=i&&(t=s.relative(i,t)),this.setSourceContent(t,n))}),this)}_validateMapping(e,t,r,n){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!t&&!r&&!n);else if(!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&r))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:t,name:n}))}_serializeMappings(){let e,t,r,o,i=0,a=1,l=0,u=0,c=0,h=0,p="";const f=this._mappings.toArray();for(let d=0,m=f.length;d<m;d++){if(t=f[d],e="",t.generatedLine!==a)for(i=0;t.generatedLine!==a;)e+=";",a++;else if(d>0){if(!s.compareByGeneratedPositionsInflated(t,f[d-1]))continue;e+=","}e+=n.encode(t.generatedColumn-i),i=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=n.encode(o-h),h=o,e+=n.encode(t.originalLine-1-u),u=t.originalLine-1,e+=n.encode(t.originalColumn-l),l=t.originalColumn,null!=t.name&&(r=this._names.indexOf(t.name),e+=n.encode(r-c),c=r)),p+=e}return p}_generateSourcesContent(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=s.relative(t,e));const r=s.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null}),this)}toJSON(){const e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e}toString(){return JSON.stringify(this.toJSON())}}a.prototype._version=3,t.SourceMapGenerator=a},function(e,t,r){const n=r(6);t.encode=function(e){let t,r="",s=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&s,s>>>=5,s>0&&(t|=32),r+=n.encode(t)}while(s>0);return r}},function(e,t){class r{constructor(){this._array=[],this._set=new Map}static fromArray(e,t){const n=new r;for(let r=0,s=e.length;r<s;r++)n.add(e[r],t);return n}size(){return this._set.size}add(e,t){const r=this.has(e),n=this._array.length;r&&!t||this._array.push(e),r||this._set.set(e,n)}has(e){return this._set.has(e)}indexOf(e){const t=this._set.get(e);if(t>=0)return t;throw new Error('"'+e+'" is not in the set.')}at(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)}toArray(){return this._array.slice()}}t.ArraySet=r},function(e,t,r){(function(t){if("function"==typeof fetch){let t=null;e.exports=function(){if("string"!=typeof t)throw new Error("You must provide the URL of lib/mappings.wasm by calling SourceMapConsumer.initialize({ 'lib/mappings.wasm': ... }) before using SourceMapConsumer");return fetch(t).then(e=>e.arrayBuffer())},e.exports.initialize=e=>t=e}else{const n=r(10),s=r(11);e.exports=function(){return new Promise((e,r)=>{const o=s.join(t,"mappings.wasm");n.readFile(o,null,(t,n)=>{t?r(t):e(n.buffer)})})},e.exports.initialize=e=>{console.debug("SourceMapConsumer.initialize is a no-op when running in node.js")}}}).call(t,"/")},function(e,t,r){t.SourceMapGenerator=r(1).SourceMapGenerator,t.SourceMapConsumer=r(8).SourceMapConsumer,t.SourceNode=r(13).SourceNode},function(e,t){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<r.length)return r[e];throw new TypeError("Must be between 0 and 63: "+e)}},function(e,t,r){const n=r(0);t.MappingList=class{constructor(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}unsortedForEach(e,t){this._array.forEach(e,t)}add(e){!function(e,t){const r=e.generatedLine,s=t.generatedLine,o=e.generatedColumn,i=t.generatedColumn;return s>r||s==r&&i>=o||n.compareByGeneratedPositionsInflated(e,t)<=0}(this._last,e)?(this._sorted=!1,this._array.push(e)):(this._last=e,this._array.push(e))}toArray(){return this._sorted||(this._array.sort(n.compareByGeneratedPositionsInflated),this._sorted=!0),this._array}}},function(e,t,r){const n=r(0),s=r(9),o=r(3).ArraySet,i=(r(2),r(4)),a=r(12),l=Symbol("smcInternal");class u{constructor(e,t){return e==l?Promise.resolve(this):function(e,t){let r=e;"string"==typeof e&&(r=n.parseSourceMapInput(e));const s=null!=r.sections?new h(r,t):new c(r,t);return Promise.resolve(s)}(e,t)}static initialize(e){i.initialize(e["lib/mappings.wasm"])}static fromSourceMap(e,t){return function(e,t){return c.fromSourceMap(e,t)}(e,t)}static with(e,t,r){let n=null;return new u(e,t).then(e=>(n=e,r(e))).then(e=>(n&&n.destroy(),e),e=>{throw n&&n.destroy(),e})}_parseMappings(e,t){throw new Error("Subclasses must implement _parseMappings")}eachMapping(e,t,r){throw new Error("Subclasses must implement eachMapping")}allGeneratedPositionsFor(e){throw new Error("Subclasses must implement allGeneratedPositionsFor")}destroy(){throw new Error("Subclasses must implement destroy")}}u.prototype._version=3,u.GENERATED_ORDER=1,u.ORIGINAL_ORDER=2,u.GREATEST_LOWER_BOUND=1,u.LEAST_UPPER_BOUND=2,t.SourceMapConsumer=u;class c extends u{constructor(e,t){return super(l).then(r=>{let s=e;"string"==typeof e&&(s=n.parseSourceMapInput(e));const i=n.getArg(s,"version");let l=n.getArg(s,"sources");const u=n.getArg(s,"names",[]);let c=n.getArg(s,"sourceRoot",null);const h=n.getArg(s,"sourcesContent",null),p=n.getArg(s,"mappings"),f=n.getArg(s,"file",null);if(i!=r._version)throw new Error("Unsupported version: "+i);return c&&(c=n.normalize(c)),l=l.map(String).map(n.normalize).map((function(e){return c&&n.isAbsolute(c)&&n.isAbsolute(e)?n.relative(c,e):e})),r._names=o.fromArray(u.map(String),!0),r._sources=o.fromArray(l,!0),r._absoluteSources=r._sources.toArray().map((function(e){return n.computeSourceURL(c,e,t)})),r.sourceRoot=c,r.sourcesContent=h,r._mappings=p,r._sourceMapURL=t,r.file=f,r._computedColumnSpans=!1,r._mappingsPtr=0,r._wasm=null,a().then(e=>(r._wasm=e,r))})}_findSourceIndex(e){let t=e;if(null!=this.sourceRoot&&(t=n.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);for(let t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1}static fromSourceMap(e,t){return new c(e.toString())}get sources(){return this._absoluteSources.slice()}_getMappingsPtr(){return 0===this._mappingsPtr&&this._parseMappings(this._mappings,this.sourceRoot),this._mappingsPtr}_parseMappings(e,t){const r=e.length,n=this._wasm.exports.allocate_mappings(r),s=new Uint8Array(this._wasm.exports.memory.buffer,n,r);for(let t=0;t<r;t++)s[t]=e.charCodeAt(t);const o=this._wasm.exports.parse_mappings(n);if(!o){const e=this._wasm.exports.get_last_error();let t=`Error parsing mappings (code ${e}): `;switch(e){case 1:t+="the mappings contained a negative line, column, source index, or name index";break;case 2:t+="the mappings contained a number larger than 2**32";break;case 3:t+="reached EOF while in the middle of parsing a VLQ";break;case 4:t+="invalid base 64 character while parsing a VLQ";break;default:t+="unknown error code"}throw new Error(t)}this._mappingsPtr=o}eachMapping(e,t,r){const s=t||null,o=r||u.GENERATED_ORDER,i=this.sourceRoot;this._wasm.withMappingCallback(t=>{null!==t.source&&(t.source=this._sources.at(t.source),t.source=n.computeSourceURL(i,t.source,this._sourceMapURL),null!==t.name&&(t.name=this._names.at(t.name))),e.call(s,t)},()=>{switch(o){case u.GENERATED_ORDER:this._wasm.exports.by_generated_location(this._getMappingsPtr());break;case u.ORIGINAL_ORDER:this._wasm.exports.by_original_location(this._getMappingsPtr());break;default:throw new Error("Unknown order of iteration.")}})}allGeneratedPositionsFor(e){let t=n.getArg(e,"source");const r=n.getArg(e,"line"),s=e.column||0;if(t=this._findSourceIndex(t),t<0)return[];if(r<1)throw new Error("Line numbers must be >= 1");if(s<0)throw new Error("Column numbers must be >= 0");const o=[];return this._wasm.withMappingCallback(e=>{let t=e.lastGeneratedColumn;this._computedColumnSpans&&null===t&&(t=1/0),o.push({line:e.generatedLine,column:e.generatedColumn,lastColumn:t})},()=>{this._wasm.exports.all_generated_locations_for(this._getMappingsPtr(),t,r-1,"column"in e,s)}),o}destroy(){0!==this._mappingsPtr&&(this._wasm.exports.free_mappings(this._mappingsPtr),this._mappingsPtr=0)}computeColumnSpans(){this._computedColumnSpans||(this._wasm.exports.compute_column_spans(this._getMappingsPtr()),this._computedColumnSpans=!0)}originalPositionFor(e){const t={generatedLine:n.getArg(e,"line"),generatedColumn:n.getArg(e,"column")};if(t.generatedLine<1)throw new Error("Line numbers must be >= 1");if(t.generatedColumn<0)throw new Error("Column numbers must be >= 0");let r,s=n.getArg(e,"bias",u.GREATEST_LOWER_BOUND);if(null==s&&(s=u.GREATEST_LOWER_BOUND),this._wasm.withMappingCallback(e=>r=e,()=>{this._wasm.exports.original_location_for(this._getMappingsPtr(),t.generatedLine-1,t.generatedColumn,s)}),r&&r.generatedLine===t.generatedLine){let e=n.getArg(r,"source",null);null!==e&&(e=this._sources.at(e),e=n.computeSourceURL(this.sourceRoot,e,this._sourceMapURL));let t=n.getArg(r,"name",null);return null!==t&&(t=this._names.at(t)),{source:e,line:n.getArg(r,"originalLine",null),column:n.getArg(r,"originalColumn",null),name:t}}return{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e}))}sourceContentFor(e,t){if(!this.sourcesContent)return null;const r=this._findSourceIndex(e);if(r>=0)return this.sourcesContent[r];let s,o=e;if(null!=this.sourceRoot&&(o=n.relative(this.sourceRoot,o)),null!=this.sourceRoot&&(s=n.urlParse(this.sourceRoot))){const e=o.replace(/^file:\/\//,"");if("file"==s.scheme&&this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];if((!s.path||"/"==s.path)&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(t)return null;throw new Error('"'+o+'" is not in the SourceMap.')}generatedPositionFor(e){let t=n.getArg(e,"source");if(t=this._findSourceIndex(t),t<0)return{line:null,column:null,lastColumn:null};const r={source:t,originalLine:n.getArg(e,"line"),originalColumn:n.getArg(e,"column")};if(r.originalLine<1)throw new Error("Line numbers must be >= 1");if(r.originalColumn<0)throw new Error("Column numbers must be >= 0");let s,o=n.getArg(e,"bias",u.GREATEST_LOWER_BOUND);if(null==o&&(o=u.GREATEST_LOWER_BOUND),this._wasm.withMappingCallback(e=>s=e,()=>{this._wasm.exports.generated_location_for(this._getMappingsPtr(),r.source,r.originalLine-1,r.originalColumn,o)}),s&&s.source===r.source){let e=s.lastGeneratedColumn;return this._computedColumnSpans&&null===e&&(e=1/0),{line:n.getArg(s,"generatedLine",null),column:n.getArg(s,"generatedColumn",null),lastColumn:e}}return{line:null,column:null,lastColumn:null}}}c.prototype.consumer=u,t.BasicSourceMapConsumer=c;class h extends u{constructor(e,t){return super(l).then(r=>{let s=e;"string"==typeof e&&(s=n.parseSourceMapInput(e));const i=n.getArg(s,"version"),a=n.getArg(s,"sections");if(i!=r._version)throw new Error("Unsupported version: "+i);r._sources=new o,r._names=new o,r.__generatedMappings=null,r.__originalMappings=null,r.__generatedMappingsUnsorted=null,r.__originalMappingsUnsorted=null;let l={line:-1,column:0};return Promise.all(a.map(e=>{if(e.url)throw new Error("Support for url field in sections not implemented.");const r=n.getArg(e,"offset"),s=n.getArg(r,"line"),o=n.getArg(r,"column");if(s<l.line||s===l.line&&o<l.column)throw new Error("Section offsets must be ordered and non-overlapping.");return l=r,new u(n.getArg(e,"map"),t).then(e=>({generatedOffset:{generatedLine:s+1,generatedColumn:o+1},consumer:e}))})).then(e=>(r._sections=e,r))})}get _generatedMappings(){return this.__generatedMappings||this._sortGeneratedMappings(),this.__generatedMappings}get _originalMappings(){return this.__originalMappings||this._sortOriginalMappings(),this.__originalMappings}get _generatedMappingsUnsorted(){return this.__generatedMappingsUnsorted||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappingsUnsorted}get _originalMappingsUnsorted(){return this.__originalMappingsUnsorted||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappingsUnsorted}_sortGeneratedMappings(){const e=this._generatedMappingsUnsorted;e.sort(n.compareByGeneratedPositionsDeflated),this.__generatedMappings=e}_sortOriginalMappings(){const e=this._originalMappingsUnsorted;e.sort(n.compareByOriginalPositions),this.__originalMappings=e}get sources(){const e=[];for(let t=0;t<this._sections.length;t++)for(let r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}originalPositionFor(e){const t={generatedLine:n.getArg(e,"line"),generatedColumn:n.getArg(e,"column")},r=s.search(t,this._sections,(function(e,t){const r=e.generatedLine-t.generatedOffset.generatedLine;return r||e.generatedColumn-t.generatedOffset.generatedColumn})),o=this._sections[r];return o?o.consumer.originalPositionFor({line:t.generatedLine-(o.generatedOffset.generatedLine-1),column:t.generatedColumn-(o.generatedOffset.generatedLine===t.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))}sourceContentFor(e,t){for(let t=0;t<this._sections.length;t++){const r=this._sections[t].consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')}generatedPositionFor(e){for(let t=0;t<this._sections.length;t++){const r=this._sections[t];if(-1===r.consumer._findSourceIndex(n.getArg(e,"source")))continue;const s=r.consumer.generatedPositionFor(e);if(s)return{line:s.line+(r.generatedOffset.generatedLine-1),column:s.column+(r.generatedOffset.generatedLine===s.line?r.generatedOffset.generatedColumn-1:0)}}return{line:null,column:null}}_parseMappings(e,t){const r=this.__generatedMappingsUnsorted=[],s=this.__originalMappingsUnsorted=[];for(let e=0;e<this._sections.length;e++){const t=this._sections[e],o=[];t.consumer.eachMapping(e=>o.push(e));for(let e=0;e<o.length;e++){const i=o[e];let a=n.computeSourceURL(t.consumer.sourceRoot,null,this._sourceMapURL);this._sources.add(a),a=this._sources.indexOf(a);let l=null;i.name&&(this._names.add(i.name),l=this._names.indexOf(i.name));const u={source:a,generatedLine:i.generatedLine+(t.generatedOffset.generatedLine-1),generatedColumn:i.generatedColumn+(t.generatedOffset.generatedLine===i.generatedLine?t.generatedOffset.generatedColumn-1:0),originalLine:i.originalLine,originalColumn:i.originalColumn,name:l};r.push(u),"number"==typeof u.originalLine&&s.push(u)}}}eachMapping(e,t,r){const s=t||null;let o;switch(r||u.GENERATED_ORDER){case u.GENERATED_ORDER:o=this._generatedMappings;break;case u.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}const i=this.sourceRoot;o.map((function(e){let t=null;return null!==e.source&&(t=this._sources.at(e.source),t=n.computeSourceURL(i,t,this._sourceMapURL)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,s)}_findMapping(e,t,r,n,o,i){if(e[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[r]);if(e[n]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[n]);return s.search(e,t,o,i)}allGeneratedPositionsFor(e){const t=n.getArg(e,"line"),r={source:n.getArg(e,"source"),originalLine:t,originalColumn:n.getArg(e,"column",0)};if(r.source=this._findSourceIndex(r.source),r.source<0)return[];if(r.originalLine<1)throw new Error("Line numbers must be >= 1");if(r.originalColumn<0)throw new Error("Column numbers must be >= 0");const o=[];let i=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,s.LEAST_UPPER_BOUND);if(i>=0){let r=this._originalMappings[i];if(void 0===e.column){const e=r.originalLine;for(;r&&r.originalLine===e;){let e=r.lastGeneratedColumn;this._computedColumnSpans&&null===e&&(e=1/0),o.push({line:n.getArg(r,"generatedLine",null),column:n.getArg(r,"generatedColumn",null),lastColumn:e}),r=this._originalMappings[++i]}}else{const e=r.originalColumn;for(;r&&r.originalLine===t&&r.originalColumn==e;){let e=r.lastGeneratedColumn;this._computedColumnSpans&&null===e&&(e=1/0),o.push({line:n.getArg(r,"generatedLine",null),column:n.getArg(r,"generatedColumn",null),lastColumn:e}),r=this._originalMappings[++i]}}}return o}destroy(){for(let e=0;e<this._sections.length;e++)this._sections[e].consumer.destroy()}}t.IndexedSourceMapConsumer=h},function(e,t){function r(e,n,s,o,i,a){const l=Math.floor((n-e)/2)+e,u=i(s,o[l],!0);return 0===u?l:u>0?n-l>1?r(l,n,s,o,i,a):a==t.LEAST_UPPER_BOUND?n<o.length?n:-1:l:l-e>1?r(e,l,s,o,i,a):a==t.LEAST_UPPER_BOUND?l:e<0?-1:e}t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,n,s,o){if(0===n.length)return-1;let i=r(-1,n.length,e,n,s,o||t.GREATEST_LOWER_BOUND);if(i<0)return-1;for(;i-1>=0&&0===s(n[i],n[i-1],!0);)--i;return i}},function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t,r){const n=r(4);function s(){this.generatedLine=0,this.generatedColumn=0,this.lastGeneratedColumn=null,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}let o=null;e.exports=function(){if(o)return o;const e=[];return o=n().then(t=>WebAssembly.instantiate(t,{env:{mapping_callback(t,r,n,o,i,a,l,u,c,h){const p=new s;p.generatedLine=t+1,p.generatedColumn=r,n&&(p.lastGeneratedColumn=o-1),i&&(p.source=a,p.originalLine=l+1,p.originalColumn=u,c&&(p.name=h)),e[e.length-1](p)},start_all_generated_locations_for(){console.time("all_generated_locations_for")},end_all_generated_locations_for(){console.timeEnd("all_generated_locations_for")},start_compute_column_spans(){console.time("compute_column_spans")},end_compute_column_spans(){console.timeEnd("compute_column_spans")},start_generated_location_for(){console.time("generated_location_for")},end_generated_location_for(){console.timeEnd("generated_location_for")},start_original_location_for(){console.time("original_location_for")},end_original_location_for(){console.timeEnd("original_location_for")},start_parse_mappings(){console.time("parse_mappings")},end_parse_mappings(){console.timeEnd("parse_mappings")},start_sort_by_generated_location(){console.time("sort_by_generated_location")},end_sort_by_generated_location(){console.timeEnd("sort_by_generated_location")},start_sort_by_original_location(){console.time("sort_by_original_location")},end_sort_by_original_location(){console.timeEnd("sort_by_original_location")}}})).then(t=>({exports:t.instance.exports,withMappingCallback:(t,r)=>{e.push(t);try{r()}finally{e.pop()}}})).then(null,e=>{throw o=null,e}),o}},function(e,t,r){const n=r(1).SourceMapGenerator,s=r(0),o=/(\r?\n)/,i="$$$isSourceNode$$$";class a{constructor(e,t,r,n,s){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==r?null:r,this.name=null==s?null:s,this[i]=!0,null!=n&&this.add(n)}static fromStringWithSourceMap(e,t,r){const n=new a,i=e.split(o);let l=0;const u=function(){return e()+(e()||"");function e(){return l<i.length?i[l++]:void 0}};let c,h=1,p=0,f=null;return t.eachMapping((function(e){if(null!==f){if(!(h<e.generatedLine)){c=i[l]||"";const t=c.substr(0,e.generatedColumn-p);return i[l]=c.substr(e.generatedColumn-p),p=e.generatedColumn,d(f,t),void(f=e)}d(f,u()),h++,p=0}for(;h<e.generatedLine;)n.add(u()),h++;p<e.generatedColumn&&(c=i[l]||"",n.add(c.substr(0,e.generatedColumn)),i[l]=c.substr(e.generatedColumn),p=e.generatedColumn),f=e}),this),l<i.length&&(f&&d(f,u()),n.add(i.splice(l).join(""))),t.sources.forEach((function(e){const o=t.sourceContentFor(e);null!=o&&(null!=r&&(e=s.join(r,e)),n.setSourceContent(e,o))})),n;function d(e,t){if(null===e||void 0===e.source)n.add(t);else{const o=r?s.join(r,e.source):e.source;n.add(new a(e.originalLine,e.originalColumn,o,t,e.name))}}}add(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[i]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this}prepend(e){if(Array.isArray(e))for(let t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[i]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this}walk(e){let t;for(let r=0,n=this.children.length;r<n;r++)t=this.children[r],t[i]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})}join(e){let t,r;const n=this.children.length;if(n>0){for(t=[],r=0;r<n-1;r++)t.push(this.children[r]),t.push(e);t.push(this.children[r]),this.children=t}return this}replaceRight(e,t){const r=this.children[this.children.length-1];return r[i]?r.replaceRight(e,t):"string"==typeof r?this.children[this.children.length-1]=r.replace(e,t):this.children.push("".replace(e,t)),this}setSourceContent(e,t){this.sourceContents[s.toSetString(e)]=t}walkSourceContents(e){for(let t=0,r=this.children.length;t<r;t++)this.children[t][i]&&this.children[t].walkSourceContents(e);const t=Object.keys(this.sourceContents);for(let r=0,n=t.length;r<n;r++)e(s.fromSetString(t[r]),this.sourceContents[t[r]])}toString(){let e="";return this.walk((function(t){e+=t})),e}toStringWithSourceMap(e){const t={code:"",line:1,column:0},r=new n(e);let s=!1,o=null,i=null,a=null,l=null;return this.walk((function(e,n){t.code+=e,null!==n.source&&null!==n.line&&null!==n.column?(o===n.source&&i===n.line&&a===n.column&&l===n.name||r.addMapping({source:n.source,original:{line:n.line,column:n.column},generated:{line:t.line,column:t.column},name:n.name}),o=n.source,i=n.line,a=n.column,l=n.name,s=!0):s&&(r.addMapping({generated:{line:t.line,column:t.column}}),o=null,s=!1);for(let i=0,a=e.length;i<a;i++)10===e.charCodeAt(i)?(t.line++,t.column=0,i+1===a?(o=null,s=!1):s&&r.addMapping({source:n.source,original:{line:n.line,column:n.column},generated:{line:t.line,column:t.column},name:n.name})):t.column++})),this.walkSourceContents((function(e,t){r.setSourceContent(e,t)})),{code:t.code,map:r}}}t.SourceNode=a}])},e.exports=r(I,z)})));const{SourceNode:D}=T,F=new Set(["fun","proc","scope","as","each","map","do","try","catch","asyncFun","asyncProc","asyncScope","asyncAs","asyncEach","asyncMap","asyncDo","asyncTry","asyncCatch","class","extends"]),B=new Set(["fun","scope","as","each","do"]),q=new Set(["each","map","do"]),J=new Set(["closeSubexpr","closeBracket","operator"]),V=new Set(["=","#=","@=","<-","\\=","?="]),W=new Set(["+=","-=","*=","/=","%=","^="]),Z=new Set([":","::"]);function H(e,t){throw Error(`Zap syntax at ${"string"==typeof e?e:`${e.line}:${e.column+1}`}, ${t}`)}function Q(e){H(e,"invalid number of operands")}function X(t,r,n){(Array.isArray(t)||"identifier"!==t.type||e.nonCommands.has(t.name))&&H(r,n)}function Y(e,t){return{js:t,line:e.line,column:e.column}}module.exports=(n,{tokens:s=!1,procTokens:o=!1,sourceMap:i=!1,sourceFile:a=null,jsTree:l=!1,js:u=!0,iife:c="sync"}={})=>{const h={},p=(n=>{const s=[];let o=0,i=1,a=0;const l=t.get("space").exec(n);function u(e){throw Error(`Zap syntax at ${i}:${a+1}, ${e}`)}e:for(;o<n.length;){for(let[l,c]of t.entries()){c.lastIndex=o;const t=c.exec(n);if(t){const n={type:l,value:t[0],line:i,column:a};if("comment"===l||"space"===l)a+=t[0].length;else if("lineCont"===l){const e=s[s.length-1];e&&"newline"===e.type&&!e.lineCont||u("invalid line continue"),e.lineCont=!0,a++}else{if("newline"===l)i++,n.indent=t[1].length,a=n.indent,n.line=i,n.column=a;else if("string"===l&&'"'===t[0][0]){let e;n.value=n.value.replace(/\r?\n/g,()=>(i++,e=!0,"\\n")),e?a=t[0].length-t[0].lastIndexOf("\n")-1:a+=t[0].length}else{if("identifier"===l)if(e.commands.has(n.value))n.type="operator";else{const t=n.value.split(/(?=[,;])/);if(t.length>1){(e.commands.has(t[0])||e.invalid.has(t[0]))&&u("reserved word");const r=t.slice(1);for(let t of r)t.length<2&&u("missing property name"),(e.commands.has(t.slice(1))||";"===t[0]&&e.invalid.has(t.slice(1)))&&u("reserved word");n.type="property",n.name=t[0],n.props=r}else"else"===n.value&&(n.value="true"),n.name=n.value}else"operator"===l&&(t[1]||t[3])&&(r.has(t[2])||u(`cannot use backtick with ${t[2]}`),n.value=t[2],t[1]&&(n.preTick=!0),t[3]&&(n.postTick=!0));a+=t[0].length}s.push(n)}o=c.lastIndex;continue e}}let l=n.slice(o,o+30);n.length>o+30&&(l+=" ..."),u(`unrecognized token: ${l}`)}if(l&&s[0]&&"newline"!==s[0].type)throw Error(`Zap syntax at 1:${l[0].length+1}, invalid indent - base block cannot be indented`);return s.lineEnd=i,s.columnEnd=a,s})(n);if(s&&(h.tokens=p),o||i||l||u){const t=(e=>{const t={"(":")","[":"]","{":"}"},r=[],n=[0],s=()=>n[n.length-1];let o=0;function i(e,t){throw Error(`Zap syntax at ${e.line}:${e.column+1}, ${t}`)}function a(e,t,n,s){r.push({type:e,value:t,line:n,column:s})}function l(e){"number"!=typeof s()&&i(e,"unclosed brackets")}function u(e){l(e),a("openParentheses","(open indent)",e.line,e.column),n.push(e.indent),o=e.indent}function c(e){l(e),a("closeBracket","(close indent)",e.line,e.column),n.pop(),o-=4}for(let h=0;h<e.length;h++){const p=e[h],{type:f}=p;if("newline"===f){const t=e[h+1]&&"newline"!==e[h+1].type;if((p.lineCont||t)&&(/[^\r\n ]/.test(p.value)&&i(p,"invalid indent - only spaces are allowed"),p.indent%4&&i(p,"invalid indent - must be a multiple of 4 spaces"),p.indent>o+4&&i(p,"invalid indent - increase of more than 1 block")),p.lineCont){if((p.indent>o||0===r.length)&&i(p,"invalid line continue"),p.indent<o){const e=(o-p.indent)/4;for(let t=0;t<e;t++)c(p)}}else{if(!t)continue;if(p.indent>o)0===r.length&&i(p,"invalid indent - base block cannot be indented"),u(p);else if(p.indent<o){const e=(o-p.indent)/4;for(let t=0;t<e;t++)c(p);a("closeSubexpr","(close subexpression)",p.line,p.column)}else l(p),r.length&&a("closeSubexpr","(close subexpression)",p.line,p.column)}}else"function"===f||"openParentheses"===f?n.push(p.value):"closeBracket"===f&&(t[s()]!==p.value&&i(p,"bracket mismatch"),n.pop()),r.push(p)}const h={type:"endOfCode",value:"(end of code)",line:e.lineEnd,column:e.columnEnd};for(;n.length>1;)c(h);return r})(p);o&&(h.procTokens=t),(i||l||u)&&Object.assign(h,((t,r={})=>{let n,s,o=null;const i=[],a=new Set;let l=!1;c();const u=o;function c(){const e={token:n||null,operator:null,operands:[],position:null,assign:null,assignOpValue:null,variables:new Set,awaitUsed:!1,stopUsed:!1,yieldUsed:!1,js:[]};e.token||(e.import=[],e.export=new Set),o&&i.push(o),o=e}function h(){p();const e=!o.token,t=o.js,r=[],s=[];if(e){o.stopUsed&&H("(top-level scope)","invalid use of stop"),o.yieldUsed&&H("(top-level scope)","invalid use of yield");let e=[...o.variables].filter(e=>!o.export.has(e));a.size&&e.push("_z_"),s.push(e.length?`; var ${e.join()};`:";")}else if("function"===o.token.type){const e=o.token.kind;o.awaitUsed&&!o.token.async&&H(n,"await used inside synchronous scope"),o.stopUsed&&!q.has(e)&&H(n,"stop used inside non-loop scope"),o.yieldUsed&&!B.has(e)&&H(n,"invalid use of yield");const i=[...o.token.params],a=i.join(),l=o.token.async?"async ":"";let u=[...o.variables];o.token.params.size&&(u=u.filter(e=>!o.token.params.has(e)));const c=u.length?`${q.has(e)?"let ":"var "}${u.join()}`:"";if("class"===e){let e=`(class {constructor(${a}) {`;if(0===t.length&&i.length)for(let t of i)"ops={}"===t?t="ops":"...rest"===t&&(t="rest"),e+=`this.${t} = ${t}; `;r.push(Y(o.token,e)),s.push(Y(n,`; ${c}}})`))}else if("extends"===e)r.push(Y(o.token,"(class extends "),o.token.extends),0===t.length?(i.length&&H(n,"subclass constructor has parameters but empty body"),r.push(Y(o.token," {")),s.push(Y(n,"})"))):(r.push(Y(o.token,` {constructor(${a}) {`)),s.push(Y(n,`; ${c}}})`)));else if("each"===e||"map"===e){const[a="_z_v",u,h]=i,p="map"===e;p&&(t.length?(t.unshift("("),t.push(")")):t.push("void 0"));let f=`(${l}`;f+=o.yieldUsed?"function*(_z_x) {":"_z_x => {",(u||p)&&(f+="let _z_i = -1; "),p&&(f+="let _z_m = []; "),o.stopUsed&&(f+="let _z_s; "),f+=`for (let ${a} of _z_x) {`,h&&(f+=`let ${h} = _z_x; `),u?f+=`let ${u} = ++_z_i; `:p&&(f+="++_z_i; "),c&&(f+=`${c}; `),p&&(f+="_z_m[_z_i] = "),r.push(Y(o.token,f)),s.push(Y(n,`${o.stopUsed?"; if (_z_s) break":""}} return _z_${p?"m":"x"}})(`),o.token[e],")")}else if("do"===e){const e=o.token.doLimit;let t=`(${l}`;const a=e?"(_z_l)":"()";t+=o.yieldUsed?`function*${a} {`:`${a} => {`,o.stopUsed&&(t+="let _z_s; "),t+=e?"for (let _z_i = 0; _z_i < _z_l; _z_i++) {":"while (1) {",i[0]&&(t+=`let ${i[0]} = _z_i; `),c&&(t+=`${c}; `),r.push(Y(o.token,t)),s.push(Y(n,(o.stopUsed?"; if (_z_s) break":"")+"}})(")),e&&s.push(e),s.push(")")}else if("try"===e)r.push(Y(o.token,`(${l}() => {try {`)),s.push(Y(n,`} catch (e) {return e} ${c}})()`));else if("catch"===e)r.push(Y(o.token,`(${l}${a} => {if (${a}) {`)),s.push(Y(n,`} ${c}})(`),o.token.catch,")");else{let t=`(${l}`;o.yieldUsed?t+=`function*(${a})`:t+="fun"===e?`function(${a})`:`(${a}) =>`,t+=" {return ",r.push(Y(o.token,t)),"as"===e?s.push(Y(n,`; ${c}})(`),o.token.as,")"):s.push(Y(n,`; ${c}})${"scope"===e?"()":""}`))}}else{0===t.length&&H(n,"invalid empty block"),r.push(Y(o.token,"(")),s.push(Y(n,")"));const e=i[i.length-1];o.variables.size&&o.variables.forEach(t=>e.variables.add(t)),o.awaitUsed&&(e.awaitUsed=!0),o.stopUsed&&(e.stopUsed=!0),o.yieldUsed&&(e.yieldUsed=!0)}if(e||t.unshift(r),t.push(s),e)return t;o=i.pop(),o.operands.push(t)}function p(){if(o.operands.length||o.operator||o.assign){!o.assign||o.operands.length||o.operator||H(l?"(end of code)":n,"assignment has no right-hand side"),f();const e=o.operands.pop();o.assign&&(e.unshift(o.assign),"#="!==o.assignOpValue&&"?="!==o.assignOpValue&&"<-"!==o.assignOpValue||e.push(")"),o.assign=null,o.assignOpValue=null),o.js.length&&o.js.push(", "),o.js.push(e)}}function f(){if(o.operator)F.has(o.operator.value)?H(o.operator,"missing body"):o.operands=[g(o,a)],o.operator=null,o.position=null;else if(1===o.operands.length){const t=o.operands[0];Array.isArray(t)||("identifier"===t.type&&e.invalid.has(t.name)&&H(t,`invalid use of reserved word: ${t.name}`),o.operands[0]=[t])}else H(l?"(end of code)":n,"multiple operands but no operator")}for(let e=0;e<t.length;e++)if(n=t[e],s=n.type,"number"===s||"string"===s)n.js=n.value,o.operands.push(n);else if("regexp"===s)n.js=n.value.slice(1),o.operands.push(n);else if("identifier"===s)n.js=n.name,o.operands.push(n);else if("property"===s){const e=n.props.map(e=>","===e[0]?`["${e.slice(1)}"]`:`[${e.slice(1)}]`).join("");n.js=`(${n.name}${e})`,o.operands.push(n)}else if("function"===s)n.kind="{"===n.value?"proc":"fun",n.params=new Set("abc"),c();else if("openParentheses"===s)c();else if("closeBracket"===s)if("}"===n.value||"]"===n.value)h();else{const r=i[i.length-1],n=r.operator,s=t[e+1];if(n&&F.has(n.value)&&(!s||J.has(s.type))){o.token.type="function","async"===n.value.slice(0,5)&&(o.token.async=!0);const e=n.value.replace("async","").toLowerCase();if(o.token.kind=e,o.token.params=new Set,"scope"===e||"try"===e)r.operands.length&&Q(n);else if("as"===e||"catch"===e){2!==r.operands.length&&Q(n),o.token[e]=r.operands[0];const t=r.operands[1];X(t,n,"invalid parameter name"),"rest"===t.name?H(t,"invalid rest parameter"):"ops"===t.name&&"catch"===e&&H(t,"invalid ops parameter"),o.token.params.add("ops"===t.name?"ops={}":t.name)}else if("do"===e){if(r.operands.length>2&&Q(n),o.token.doLimit=r.operands[0],2===r.operands.length){const e=r.operands[1];X(e,n,"invalid parameter name"),"rest"!==e.name&&"ops"!==e.name||H(e,`invalid ${e.name} parameter`),o.token.params.add(e.name)}}else{"each"===e||"map"===e?((0===r.operands.length||r.operands.length>4)&&Q(n),o.token[e]=r.operands[0]):"extends"===e&&(0===r.operands.length&&Q(n),o.token.extends=r.operands[0]);let t=r.operands;"each"!==e&&"map"!==e&&"extends"!==e||(t=t.slice(1));for(let r=0;r<t.length;r++){let s=t[r];X(s,n,"invalid parameter name"),"each"!==e&&"map"!==e||"ops"!==s.name&&"rest"!==s.name?"ops"===s.name?o.token.params.add("ops={}"):"rest"===s.name?(r!==t.length-1&&H(s,"rest parameter must be final parameter"),o.token.params.add("...rest")):o.token.params.add(s.name):H(s,`invalid ${s.name} parameter`)}o.token.params.size<t.length&&H(n,"duplicate parameter name")}h(),o.operands=[o.operands.pop()],o.operator=null,o.position=null}else h()}else if("operator"===s){const e=o.operator;if(e&&f(),V.has(n.value)||W.has(n.value)){if(o.assign&&H(n,"multiple assignment operators"),o.assign=[],o.assignOpValue=n.value,"#="===n.value||"@="===n.value){0===o.operands.length&&H(n,"expected one or more operands on left-hand side of assignment"),o.assign.push(Y(n,"#="===n.value?"({":"["));const e=new Set;o.operands.forEach(t=>{X(t,n,"invalid variable name on left-hand side of assignment"),e.add(t.name),o.variables.add(t.name),o.assign.push(t.name,",")}),e.size<o.operands.length&&H(n,"duplicate variable name on left-hand side of assignment"),o.assign.push(Y(n,"#="===n.value?"} = ":"] = "))}else{1!==o.operands.length&&H(n,"expected one operand on left-hand side of assignment");const t=o.operands[0];if("\\="===n.value)X(t,n,"invalid variable name on left-hand side of assignment"),o.assign.push(t,Y(n," = "));else if("?="===n.value||"<-"===n.value)X(t,n,"invalid variable name on left-hand side of assignment"),"<-"===n.value&&o.variables.add(t.name),o.assign.push(t.name,Y(n,"<-"===n.value?" = ops.":" = "),t.name,Y(n," ?? ("));else{let r=!1;e?Z.has(e.value)||H(n,"invalid left-hand side of assignment"):(Array.isArray(t)||"property"!==t.type)&&(X(t,n,"invalid left-hand side of assignment"),r=!0),"="===n.value&&r&&o.variables.add(t.name),o.assign.push(t,Y(n,"^="===n.value?" **= ":` ${n.value} `))}}o.operands=[]}else o.operator=n,o.position=o.operands.length}else"closeSubexpr"===s?p():H(n,"unhandled token type");l=!0;{const e=h(),t={};if(r.js||r.sourceMap){const n=[],s=e=>({js:e,line:1,column:0});if(u.export.size&&n.push(s(`export var ${[...u.export].join(", ")};\n`)),u.import.length&&n.push(u.import),"none"!==r.iife&&(n.push(`(${"async"===r.iife?"async ":""}() => {\n'use strict'; return `),e.push("\n})();")),a.size){let e="_z_ = {";const t=new Set;for(let r of a){e+=`\n${b[r].toString()},`;const n=b[r+"Use"];n&&n.forEach(e=>t.add(e))}for(let r of t)e+=`\n${b[r].toString()},`;e+="\n},\n",n.push(s(e))}if(e.unshift(n),r.sourceMap){const n=new D(1,0,r.sourceFile,""),s=e=>{Array.isArray(e)?e.forEach(s):"string"==typeof e?n.add(e):n.add(new D(e.line,e.column,r.sourceFile,e.js))};s(e);const{code:o,map:i}=n.toStringWithSourceMap();r.js&&(t.js=o),t.sourceMap=i}else{let r="";const n=e=>{Array.isArray(e)?e.forEach(n):r+="string"==typeof e?e:e.js};n(e),t.js=r}}return r.jsTree&&(t.jsTree=e),t}})(t,{sourceMap:i,sourceFile:a,jsTree:l,js:u,iife:c}))}return h}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],2:[function(require,module,exports){!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e=e||self).observablehq=e.observablehq||{})}(this,(function(e){"use strict";function n(e,n,t){t=t||{};var o=e.ownerDocument,r=o.defaultView.CustomEvent;"function"==typeof r?r=new r(n,{detail:t}):((r=o.createEvent("Event")).initEvent(n,!1,!1),r.detail=t),e.dispatchEvent(r)}function t(e){return Array.isArray(e)||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function o(e){return e===(0|e)+""}function r(e){const n=document.createElement("span");return n.className="observablehq--cellname",n.textContent=`${e} = `,n}const a=Symbol.prototype.toString;function s(e){return a.call(e)}const{getOwnPropertySymbols:c,prototype:{hasOwnProperty:i}}=Object,{toStringTag:l}=Symbol,d={},u=c;function p(e,n){return i.call(e,n)}function f(e){return e[l]||e.constructor&&e.constructor.name||"Object"}function m(e,n){try{const t=e[n];return t&&t.constructor,t}catch(e){return d}}const h=[{symbol:"@@__IMMUTABLE_INDEXED__@@",name:"Indexed",modifier:!0},{symbol:"@@__IMMUTABLE_KEYED__@@",name:"Keyed",modifier:!0},{symbol:"@@__IMMUTABLE_LIST__@@",name:"List",arrayish:!0},{symbol:"@@__IMMUTABLE_MAP__@@",name:"Map"},{symbol:"@@__IMMUTABLE_ORDERED__@@",name:"Ordered",modifier:!0,prefix:!0},{symbol:"@@__IMMUTABLE_RECORD__@@",name:"Record"},{symbol:"@@__IMMUTABLE_SET__@@",name:"Set",arrayish:!0,setish:!0},{symbol:"@@__IMMUTABLE_STACK__@@",name:"Stack",arrayish:!0}];function b(e){try{let n=h.filter(({symbol:n})=>!0===e[n]);if(!n.length)return;const t=n.find(e=>!e.modifier),o="Map"===t.name&&n.find(e=>e.modifier&&e.prefix),r=n.some(e=>e.arrayish),a=n.some(e=>e.setish);return{name:`${o?o.name:""}${t.name}`,symbols:n,arrayish:r&&!a,setish:a}}catch(e){return null}}const{getPrototypeOf:y,getOwnPropertyDescriptors:v}=Object,C=y({});function g(e,o,a,s){let c,i,l,d,u=t(e);e instanceof Map?(c=`Map(${e.size})`,i=x):e instanceof Set?(c=`Set(${e.size})`,i=E):u?(c=`${e.constructor.name}(${e.length})`,i=N):(d=b(e))?(c=`Immutable.${d.name}${"Record"===d.name?"":`(${e.size})`}`,u=d.arrayish,i=d.arrayish?_:d.setish?q:S):s?(c=f(e),i=T):(c=f(e),i=M);const p=document.createElement("span");p.className="observablehq--expanded",a&&p.appendChild(r(a));const m=p.appendChild(document.createElement("a"));m.innerHTML="<svg width=8 height=8 class='observablehq--caret'>\n    <path d='M4 7L0 1h8z' fill='currentColor' />\n  </svg>",m.appendChild(document.createTextNode(`${c}${u?" [":" {"}`)),m.addEventListener("mouseup",(function(n){n.stopPropagation(),ie(p,U(e,null,a,s))})),i=i(e);for(let e=0;!(l=i.next()).done&&e<20;++e)p.appendChild(l.value);if(!l.done){const e=p.appendChild(document.createElement("a"));e.className="observablehq--field",e.style.display="block",e.appendChild(document.createTextNode("  … more")),e.addEventListener("mouseup",(function(e){e.stopPropagation(),p.insertBefore(l.value,p.lastChild.previousSibling);for(let e=0;!(l=i.next()).done&&e<19;++e)p.insertBefore(l.value,p.lastChild.previousSibling);l.done&&p.removeChild(p.lastChild.previousSibling),n(p,"load")}))}return p.appendChild(document.createTextNode(u?"]":"}")),p}function*x(e){for(const[n,t]of e)yield w(n,t);yield*M(e)}function*E(e){for(const n of e)yield A(n);yield*M(e)}function*q(e){for(const n of e)yield A(n)}function*N(e){for(let n=0,t=e.length;n<t;++n)n in e&&(yield L(n,m(e,n),"observablehq--index"));for(const n in e)!o(n)&&p(e,n)&&(yield L(n,m(e,n),"observablehq--key"));for(const n of u(e))yield L(s(n),m(e,n),"observablehq--symbol")}function*_(e){let n=0;for(const t=e.size;n<t;++n)yield L(n,e.get(n),!0)}function*T(e){for(const n in v(e))yield L(n,m(e,n),"observablehq--key");for(const n of u(e))yield L(s(n),m(e,n),"observablehq--symbol");const n=y(e);n&&n!==C&&(yield $(n))}function*M(e){for(const n in e)p(e,n)&&(yield L(n,m(e,n),"observablehq--key"));for(const n of u(e))yield L(s(n),m(e,n),"observablehq--symbol");const n=y(e);n&&n!==C&&(yield $(n))}function*S(e){for(const[n,t]of e)yield L(n,t,"observablehq--key")}function $(e){const n=document.createElement("div"),t=n.appendChild(document.createElement("span"));return n.className="observablehq--field",t.className="observablehq--prototype-key",t.textContent="  <prototype>",n.appendChild(document.createTextNode(": ")),n.appendChild(ce(e,void 0,void 0,void 0,!0)),n}function L(e,n,t){const o=document.createElement("div"),r=o.appendChild(document.createElement("span"));return o.className="observablehq--field",r.className=t,r.textContent=`  ${e}`,o.appendChild(document.createTextNode(": ")),o.appendChild(ce(n)),o}function w(e,n){const t=document.createElement("div");return t.className="observablehq--field",t.appendChild(document.createTextNode("  ")),t.appendChild(ce(e)),t.appendChild(document.createTextNode(" => ")),t.appendChild(ce(n)),t}function A(e){const n=document.createElement("div");return n.className="observablehq--field",n.appendChild(document.createTextNode("  ")),n.appendChild(ce(e)),n}function k(e){const n=window.getSelection();return"Range"===n.type&&(n.containsNode(e,!0)||n.anchorNode.isSelfOrDescendant(e)||n.focusNode.isSelfOrDescendant(e))}function U(e,n,o,a){let s,c,i,l,d=t(e);if(e instanceof Map?(s=`Map(${e.size})`,c=I):e instanceof Set?(s=`Set(${e.size})`,c=D):d?(s=`${e.constructor.name}(${e.length})`,c=P):(l=b(e))?(s=`Immutable.${l.name}${"Record"===l.name?"":`(${e.size})`}`,d=l.arrayish,c=l.arrayish?j:l.setish?O:B):(s=f(e),c=z),n){const n=document.createElement("span");return n.className="observablehq--shallow",o&&n.appendChild(r(o)),n.appendChild(document.createTextNode(s)),n.addEventListener("mouseup",(function(t){k(n)||(t.stopPropagation(),ie(n,U(e)))})),n}const u=document.createElement("span");u.className="observablehq--collapsed",o&&u.appendChild(r(o));const p=u.appendChild(document.createElement("a"));p.innerHTML="<svg width=8 height=8 class='observablehq--caret'>\n    <path d='M7 4L1 8V0z' fill='currentColor' />\n  </svg>",p.appendChild(document.createTextNode(`${s}${d?" [":" {"}`)),u.addEventListener("mouseup",(function(n){k(u)||(n.stopPropagation(),ie(u,g(e,0,o,a)))}),!0),c=c(e);for(let e=0;!(i=c.next()).done&&e<20;++e)e>0&&u.appendChild(document.createTextNode(", ")),u.appendChild(i.value);return i.done||u.appendChild(document.createTextNode(", …")),u.appendChild(document.createTextNode(d?"]":"}")),u}function*I(e){for(const[n,t]of e)yield H(n,t);yield*z(e)}function*D(e){for(const n of e)yield ce(n,!0);yield*z(e)}function*O(e){for(const n of e)yield ce(n,!0)}function*j(e){let n=-1,t=0;for(const o=e.size;t<o;++t)t>n+1&&(yield F(t-n-1)),yield ce(e.get(t),!0),n=t;t>n+1&&(yield F(t-n-1))}function*P(e){let n=-1,t=0;for(const o=e.length;t<o;++t)t in e&&(t>n+1&&(yield F(t-n-1)),yield ce(m(e,t),!0),n=t);t>n+1&&(yield F(t-n-1));for(const n in e)!o(n)&&p(e,n)&&(yield R(n,m(e,n),"observablehq--key"));for(const n of u(e))yield R(s(n),m(e,n),"observablehq--symbol")}function*z(e){for(const n in e)p(e,n)&&(yield R(n,m(e,n),"observablehq--key"));for(const n of u(e))yield R(s(n),m(e,n),"observablehq--symbol")}function*B(e){for(const[n,t]of e)yield R(n,t,"observablehq--key")}function F(e){const n=document.createElement("span");return n.className="observablehq--empty",n.textContent=1===e?"empty":`empty × ${e}`,n}function R(e,n,t){const o=document.createDocumentFragment(),r=o.appendChild(document.createElement("span"));return r.className=t,r.textContent=e,o.appendChild(document.createTextNode(": ")),o.appendChild(ce(n,!0)),o}function H(e,n){const t=document.createDocumentFragment();return t.appendChild(ce(e,!0)),t.appendChild(document.createTextNode(" => ")),t.appendChild(ce(n,!0)),t}function K(e,n){var t=e+"",o=t.length;return o<n?new Array(n-o+1).join(0)+t:t}function Y(e){return e<0?"-"+K(-e,6):e>9999?"+"+K(e,6):K(e,4)}var G=Error.prototype.toString;var J=RegExp.prototype.toString;const V=20;function X(e){return e.replace(/[\\`\x00-\x09\x0b-\x19]|\${/g,Q)}function Q(e){var n=e.charCodeAt(0);switch(n){case 8:return"\\b";case 9:return"\\t";case 11:return"\\v";case 12:return"\\f";case 13:return"\\r"}return n<16?"\\x0"+n.toString(16):n<32?"\\x"+n.toString(16):"\\"+e}function W(e,n){for(var t=0;n.exec(e);)++t;return t}var Z=Function.prototype.toString,ee={prefix:"async ƒ"},ne={prefix:"async ƒ*"},te={prefix:"class"},oe={prefix:"ƒ"},re={prefix:"ƒ*"};function ae(e,n,t){var o=document.createElement("span");o.className="observablehq--function",t&&o.appendChild(r(t));var a=o.appendChild(document.createElement("span"));return a.className="observablehq--keyword",a.textContent=e.prefix,o.appendChild(document.createTextNode(n)),o}const{prototype:{toString:se}}=Object;function ce(e,n,t,o,a){let c=typeof e;switch(c){case"boolean":case"undefined":e+="";break;case"number":e=0===e&&1/e<0?"-0":e+"";break;case"bigint":e+="n";break;case"symbol":e=s(e);break;case"function":return function(e,n){var t,o,r=Z.call(e);switch(e.constructor&&e.constructor.name){case"AsyncFunction":t=ee;break;case"AsyncGeneratorFunction":t=ne;break;case"GeneratorFunction":t=re;break;default:t=/^class\b/.test(r)?te:oe}return t===te?ae(t,"",n):(o=/^(?:async\s*)?(\w+)\s*=>/.exec(r))?ae(t,"("+o[1]+")",n):(o=/^(?:async\s*)?\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(r))?ae(t,o[1]?"("+o[1].replace(/\s*,\s*/g,", ")+")":"()",n):(o=/^(?:async\s*)?function(?:\s*\*)?(?:\s*\w+)?\s*\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(r))?ae(t,o[1]?"("+o[1].replace(/\s*,\s*/g,", ")+")":"()",n):ae(t,"(…)",n)}(e,o);case"string":return function(e,n,t,o){if(!1===n){if(W(e,/["\n]/g)<=W(e,/`|\${/g)){const n=document.createElement("span");o&&n.appendChild(r(o));const t=n.appendChild(document.createElement("span"));return t.className="observablehq--string",t.textContent=JSON.stringify(e),n}const a=e.split("\n");if(a.length>V&&!t){const t=document.createElement("div");o&&t.appendChild(r(o));const s=t.appendChild(document.createElement("span"));s.className="observablehq--string",s.textContent="`"+X(a.slice(0,V).join("\n"));const c=t.appendChild(document.createElement("span")),i=a.length-V;return c.textContent=`Show ${i} truncated line${i>1?"s":""}`,c.className="observablehq--string-expand",c.addEventListener("mouseup",(function(r){r.stopPropagation(),ie(t,ce(e,n,!0,o))})),t}const s=document.createElement("span");o&&s.appendChild(r(o));const c=s.appendChild(document.createElement("span"));return c.className=`observablehq--string${t?" observablehq--expanded":""}`,c.textContent="`"+X(e)+"`",s}const a=document.createElement("span");o&&a.appendChild(r(o));const s=a.appendChild(document.createElement("span"));return s.className="observablehq--string",s.textContent=JSON.stringify(e.length>100?`${e.slice(0,50)}…${e.slice(-49)}`:e),a}(e,n,t,o);default:if(null===e){c=null,e="null";break}if(e instanceof Date){c="date",i=e,e=isNaN(i)?"Invalid Date":function(e){return 0===e.getUTCMilliseconds()&&0===e.getUTCSeconds()&&0===e.getUTCMinutes()&&0===e.getUTCHours()}(i)?Y(i.getUTCFullYear())+"-"+K(i.getUTCMonth()+1,2)+"-"+K(i.getUTCDate(),2):Y(i.getFullYear())+"-"+K(i.getMonth()+1,2)+"-"+K(i.getDate(),2)+"T"+K(i.getHours(),2)+":"+K(i.getMinutes(),2)+(i.getMilliseconds()?":"+K(i.getSeconds(),2)+"."+K(i.getMilliseconds(),3):i.getSeconds()?":"+K(i.getSeconds(),2):"");break}if(e===d){c="forbidden",e="[forbidden]";break}switch(se.call(e)){case"[object RegExp]":c="regexp",e=function(e){return J.call(e)}(e);break;case"[object Error]":case"[object DOMException]":c="error",e=function(e){return e.stack||G.call(e)}(e);break;default:return(t?g:U)(e,n,o,a)}}var i;const l=document.createElement("span");o&&l.appendChild(r(o));const u=l.appendChild(document.createElement("span"));return u.className=`observablehq--${c}`,u.textContent=e,l}function ie(e,t){e.classList.contains("observablehq--inspect")&&t.classList.add("observablehq--inspect"),e.parentNode.replaceChild(t,e),n(t,"load")}const le=/\s+\(\d+:\d+\)$/m;class de{constructor(e){if(!e)throw new Error("invalid node");this._node=e,e.classList.add("observablehq")}pending(){const{_node:e}=this;e.classList.remove("observablehq--error"),e.classList.add("observablehq--running")}fulfilled(e,t){const{_node:o}=this;if((!(e instanceof Element||e instanceof Text)||e.parentNode&&e.parentNode!==o)&&(e=ce(e,!1,o.firstChild&&o.firstChild.classList&&o.firstChild.classList.contains("observablehq--expanded"),t)).classList.add("observablehq--inspect"),o.classList.remove("observablehq--running","observablehq--error"),o.firstChild!==e)if(o.firstChild){for(;o.lastChild!==o.firstChild;)o.removeChild(o.lastChild);o.replaceChild(e,o.firstChild)}else o.appendChild(e);n(o,"update")}rejected(e,t){const{_node:o}=this;for(o.classList.remove("observablehq--running"),o.classList.add("observablehq--error");o.lastChild;)o.removeChild(o.lastChild);var a=document.createElement("div");a.className="observablehq--inspect",t&&a.appendChild(r(t)),a.appendChild(document.createTextNode((e+"").replace(le,""))),o.appendChild(a),n(o,"error",{error:e})}}de.into=function(e){if("string"==typeof e&&null==(e=document.querySelector(e)))throw new Error("container not found");return function(){return new de(e.appendChild(document.createElement("div")))}},e.Inspector=de,Object.defineProperty(e,"__esModule",{value:!0})}))},{}],3:[function(require,module,exports){(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?factory(exports):typeof define==="function"&&define.amd?define(["exports"],factory):(global=global||self,factory(global.d3=global.d3||{}))})(this,(function(exports){"use strict";const metas=new Map;const queue=[];const map=queue.map;const some=queue.some;const hasOwnProperty=queue.hasOwnProperty;const origin="https://cdn.jsdelivr.net/npm/";const identifierRe=/^((?:@[^/@]+\/)?[^/@]+)(?:@([^/]+))?(?:\/(.*))?$/;const versionRe=/^\d+\.\d+\.\d+(-[\w-.+]+)?$/;const extensionRe=/\.[^/]*$/;const mains=["unpkg","jsdelivr","browser","main"];class RequireError extends Error{constructor(message){super(message)}}RequireError.prototype.name=RequireError.name;function main(meta){for(const key of mains){const value=meta[key];if(typeof value==="string"){return extensionRe.test(value)?value:`${value}.js`}}}function parseIdentifier(identifier){const match=identifierRe.exec(identifier);return match&&{name:match[1],version:match[2],path:match[3]}}function resolveMeta(target){const url=`${origin}${target.name}${target.version?`@${target.version}`:""}/package.json`;let meta=metas.get(url);if(!meta)metas.set(url,meta=fetch(url).then(response=>{if(!response.ok)throw new RequireError("unable to load package.json");if(response.redirected&&!metas.has(response.url))metas.set(response.url,meta);return response.json()}));return meta}async function resolve(name,base){if(name.startsWith(origin))name=name.substring(origin.length);if(/^(\w+:)|\/\//i.test(name))return name;if(/^[.]{0,2}\//i.test(name))return new URL(name,base==null?location:base).href;if(!name.length||/^[\s._]/.test(name)||/\s$/.test(name))throw new RequireError("illegal name");const target=parseIdentifier(name);if(!target)return`${origin}${name}`;if(!target.version&&base!=null&&base.startsWith(origin)){const meta=await resolveMeta(parseIdentifier(base.substring(origin.length)));target.version=meta.dependencies&&meta.dependencies[target.name]||meta.peerDependencies&&meta.peerDependencies[target.name]}if(target.path&&!extensionRe.test(target.path))target.path+=".js";if(target.path&&target.version&&versionRe.test(target.version))return`${origin}${target.name}@${target.version}/${target.path}`;const meta=await resolveMeta(target);return`${origin}${meta.name}@${meta.version}/${target.path||main(meta)||"index.js"}`}var require=requireFrom(resolve);function requireFrom(resolver){const cache=new Map;const requireBase=requireRelative(null);function requireAbsolute(url){if(typeof url!=="string")return url;let module=cache.get(url);if(!module)cache.set(url,module=new Promise((resolve,reject)=>{const script=document.createElement("script");script.onload=()=>{try{resolve(queue.pop()(requireRelative(url)))}catch(error){reject(new RequireError("invalid module"))}script.remove()};script.onerror=()=>{reject(new RequireError("unable to load module"));script.remove()};script.async=true;script.src=url;window.define=define;document.head.appendChild(script)}));return module}function requireRelative(base){return name=>Promise.resolve(resolver(name,base)).then(requireAbsolute)}function requireAlias(aliases){return requireFrom((name,base)=>{if(name in aliases){name=aliases[name],base=null;if(typeof name!=="string")return name}return resolver(name,base)})}function require(name){return arguments.length>1?Promise.all(map.call(arguments,requireBase)).then(merge):requireBase(name)}require.alias=requireAlias;require.resolve=resolver;return require}function merge(modules){const o={};for(const m of modules){for(const k in m){if(hasOwnProperty.call(m,k)){if(m[k]==null)Object.defineProperty(o,k,{get:getter(m,k)});else o[k]=m[k]}}}return o}function getter(object,name){return()=>object[name]}function isbuiltin(name){name=name+"";return name==="exports"||name==="module"}function define(name,dependencies,factory){const n=arguments.length;if(n<2)factory=name,dependencies=[];else if(n<3)factory=dependencies,dependencies=typeof name==="string"?[]:name;queue.push(some.call(dependencies,isbuiltin)?require=>{const exports={};const module={exports:exports};return Promise.all(map.call(dependencies,name=>{name=name+"";return name==="exports"?exports:name==="module"?module:require(name)})).then(dependencies=>{factory.apply(null,dependencies);return module.exports})}:require=>Promise.all(map.call(dependencies,require)).then(dependencies=>typeof factory==="function"?factory.apply(null,dependencies):factory))}define.amd={};exports.RequireError=RequireError;exports.require=require;exports.requireFrom=requireFrom;Object.defineProperty(exports,"__esModule",{value:true})}))},{}],4:[function(require,module,exports){module.exports=new Map([["",""],["data analysis",`iris = 'data/iris.json' \\fetch await ~json await\n\n// iris with max petal length\niris max 'petalLength'\n\n// petal length > 6\niris filter [a,petalLength > 6]\n\n// order by sepal length\niris order 'asc' 'sepalLength'\n\n// count by species\niris groupCount 'species'\n\n// mean petal width by species\niris group 'species' [a mean 'petalWidth']\n\n// petal length, petal width correlation\niris correlation 'petalLength' 'petalWidth'\n\n// petal length, petal width correlation by species\niris group 'species' [a correlation 'petalLength' 'petalWidth']\n\n// comment later code to print an earlier result`],["vega-lite plot",`vegaEmbed = \\require 'vega-embed@6.14' await\n  \n$div <\\vegaEmbed\n    #\n    | repeat\n        @ \n        | 'Horsepower'\n        | 'Miles_per_Gallon'\n        | 'Acceleration'\n        | 'Displacement'\n    | columns 2\n    | spec\n        #\n        | data (# url 'data/cars.json')\n        | mark 'bar'\n        | encoding\n            # \n            | x\n                #\n                | field (# repeat 'repeat')\n                | 'bin' true\n                | type 'quantitative'\n            | y\n                #\n                | aggregate 'count'\n                | type 'quantitative'\n            | color\n                #\n                | field 'Origin'\n                | type 'nominal'`],["svg - tile map",`// Median house price by borough (2015, London DataStore)\ndata = 'data/london-2015.json'\n| \\fetch await ~json await\n\nviz = $svg\n| attr 'width' 600 \n| attr 'height' 600\n| attr 'font-size' '0.17px'\n| attr 'font-family' 'sans-serif'\n  \ng = viz insert ($g)\n| attr 'transform' 'translate(0,450) scale(75)'  \n  \ng insert (data encodeSVG 'rect')\n| attr 'x' [a,xTile]\n| attr 'y' [a,yTile -]\n| attr 'width' 0.97\n| attr 'height' 0.97\n| attr 'fill' 'red'\n| attr 'opacity' [a,HousePrice - 2e5 / 1e6]\n  \ng insert (data encodeSVG 'text')\n| text [a,Borough ~slice 0 7]\n| attr 'x' [a,xTile + 0.05] \n| attr 'y' [a,yTile - + 0.2]\n\nviz`],["classification",`// rerun to resample data; the following can be changed:\nnTrain = 200\nnTest = 100\nk = 3\ndist = [a,x - b,x ^ 2 + (a,y - b,y ^ 2)]\n\n// k-nearest-neighbor classifier\nknn = fun data testPoint\n    data\n    | map d (d \\dist testPoint)  // distances to test point \n    | orderIndex                 // indices of sorted dists\n    | ~slice 0 k                 // top k\n    | map i (data;i,label)       // corresponding labels\n    | groupCount                 // frequency count (a map)\n    | max 1 : 0                  // most frequent label\n\n// training data\ntraining = 1 to nTrain map\n    #\n    | x (random)\n    | y (random) \n    | as pt (pt chg 'label' (pt,x ^ 3 + 0.2 > pt,y number))\n\n// test data\ntest = 1 to nTest map\n    #\n    | x (random)\n    | y (random)\n    | as pt (pt chg 'predicted' (training \\knn pt))\n\n// decision boundary\nboundary = 0 1 linSpace 100 map x\n    #\n    | x x\n    | y (x ^ 3 + 0.2 <> 1)\n\n// Vega-Lite plot\nvegaEmbed = 'vega-embed@6.14' \\require await\nenc = fun\n    #\n    | x (# field 'x' type 'quantitative')\n    | y (# field 'y' type 'quantitative')\n$div <\\vegaEmbed\n    #\n    | width 400\n    | height 400\n    | view (# fill '#e5f2fc' stroke false)\n    | config (# axis (# grid false domain false))\n    | layer\n        @\n            #\n            | mark 'area'\n            | data (# values boundary)\n            | encoding (\\enc chg 'color' (# value '#fcf1e5'))\n        |\n            #\n            | mark 'circle'\n            | data (# values training)\n            | encoding (\\enc chg 'color' (# field 'label' type 'nominal'))\n        |\n            #\n            | mark 'point'\n            | data (# values test)\n            | encoding\n                \\enc\n                | chg 'color' (# field 'predicted' type 'nominal')\n                | chg 'shape' (# field 'predicted' type 'nominal')\n`],["html - quiz",`answer = null\n\nquestion isCorrect @= 2 $h2\n| style 'display' 'inline-block'\n| style 'padding-left' '40px'\n\nnewQuestion = $button\n| text 'New question'\n| on 'click'\n    fun\n        x y @= 1 11 randomInt 2\n        question text (+ x' × 'y)\n        answer \\= x * y\n        isCorrect text '😕'\n\ngrid = $div\n| style 'display' 'grid'\n| style 'grid-template-columns' 'repeat(10, 1fr)'\n| style 'gap' '3px'\n\ngrid\n| insert (1 to 100 encode 'button')\n| text [a]\n| style 'padding' '5px 0'\n| on 'click' [isCorrect text (this text number == answer ? '😄' '😞')]\n\nnewQuestion ~click\n@ newQuestion question isCorrect grid into (fragment)`],["html - lucky dip",`// fill in choices (optional), choose a winner or loser\n\nlist = $div\n| style 'margin' '20px 0 0 10px'\n\naddPlayer = $button\n| text '+'\n| on 'click'\n    fun\n        list insert ($div)\n        | html\n            + "<span style='font: 34px/60px serif; padding: 10px'>😐</span>\n               <input type='text' style='width: 200px; font-size: 24px'\n                        placeholder='"list,children,length"'>"\n            \nremovePlayer = $button\n| text '-'\n| on 'click' [list,children,length > 2 ? (list,lastChild remove)]\n\nwinLose = $button\n| text '😄'\n| on 'click' [this text (this text == '😄' ? '😭' '😄')]\n\nstart = $button\n| text 'Start'\n| on 'click'\n    asyncFun\n        buttons attr 'disabled' true\n        players = list selectAll 'span'\n        n = players,length\n        shift = randomInt 0 n\n        26 asyncDo i\n            i ^ 2 + 50 period await\n            players\n            | text '😐'\n            | style 'opacity' '0.5'\n            players : (i + shift % n)\n            | text (winLose text)\n            | style 'opacity' '1'\n        | await\n        players : (25 + shift % n) text (winLose text + '▸')\n        buttons removeAttr 'disabled'\n    \nbuttons = @ addPlayer removePlayer winLose start\n| style 'font-size' '18px'\n| style 'padding' '5px 24px'\n| style 'margin' '5px'\n\naddPlayer <~click <~click\narray buttons list into (fragment)\n`],["canvas - snow",`// based on: https://p5js.org/examples/simulate-snowflakes.html\n    \n// these can be changed\nwidth = 400\nheight = 600\nminSize = 1\nmaxSize = 2\nangularSpeed = 0.004\nn = 500\nframes = 400\n\n// array for each flake property\ny = random 0 height n\ns = random minSize maxSize n            \nt = random 0 (Math,PI * 2) n         // initial angle\nr = random 0 (width / 2 ^ 2) n sqrt  // radius of spiral\n\n// canvas and context\ncanvas ctx @= # attach width height sketch\ncanvas style 'background' 'black'\nctx,fillStyle = '#fff'\n\n// draw loop\ndraw = fun\n    ctx ~clearRect 0 0 width height\n    y \\= s \`^ 1.1 \`+\` y \`% height\n    y each yi i\n        theta = angularSpeed * frames + t;i\n        xi = theta sin * r;i + (width / 2) % width\n        ctx ~beginPath\n        ctx ~arc xi yi s;i 0 7\n        ctx ~fill\n    if (frames -= 1)\n        window ~requestAnimationFrame draw\n\n\\draw\ncanvas`],["canvas - bubbles",`// these can be changed\nwidth   = 400\nheight  = 500\nn       = 100\nspeed   = -4\ngrow    = 0.4\nburst   = 0.05\nframes  = 400\n\n// array of bubble objects\nbubbles = 0 width linSpace n map xi\n    #\n    | x xi\n    | y (height - (random * height / 10))\n    | r 1\n    | color (+ 'rgba('(randomInt 0 200 3 ~join)',0.7)')\n\n// canvas and context\ncanvas ctx @= # attach width height sketch\ncanvas style 'border' '1px solid gray'\n\n// draw loop\ndraw = fun\n    ctx ~clearRect 0 0 width height\n    bubbles each b\n        if (random < burst)\n            b,y = height\n            b,r = 1\n        | else\n            b,y += speed\n            b,r += grow\n        ctx,fillStyle = b,color\n        ctx ~beginPath\n        ctx ~arc b,x b,y b,r 0 7\n        ctx ~fill\n    if (frames -= 1)\n        window ~requestAnimationFrame draw\n\n\\draw\ncanvas`],["p5 - kaleidoscope",`// draw on the canvas\n// (based on: https://p5js.org/examples/interaction-kaleidoscope.html)\n\n// ==============================================================\n// For now, reload the playground when finished with each drawing\n// to terminate the draw loop\n// ==============================================================\n\n// this can be changed\nsymmetry = 6\n\nf = fun p\n\n    p,setup = fun\n        p ~createCanvas 600 600\n        p ~angleMode 'degrees'\n        p ~background 230\n\n    p,draw = fun\n        mouseX mouseY pmouseX pmouseY width height #= p\n        p ~translate (width / 2) (height / 2)\n        if ((mouseX > 0) && (mouseX < width) &&\n        |   (mouseY > 0) && (mouseY < height))\n            mx = mouseX - (width / 2)\n            my = mouseY - (height / 2)\n            pmx = pmouseX - (width / 2)\n            pmy = pmouseY - (height / 2)\n            if p,mouseIsPressed\n                symmetry do\n                    p ~rotate (360 / symmetry)\n                    p ~strokeWeight 3\n                    p ~line mx my pmx pmy\n                    p ~push\n                    p ~scale 1 (-1)\n                    p ~line mx my pmx pmy\n                    p ~pop\n\n// use p5 in instance mode     \n'p5@1.1.9' \\require await new f : 'canvas'`]])},{}],5:[function(require,module,exports){(()=>{"use strict";window.require=require("d3-require").require;const isStorage=require("./storageAvailable.js")("localStorage");let resultWidth=isStorage&&localStorage.resultWidth?+localStorage.resultWidth:50;const saveState=()=>{if(isStorage){localStorage.zapCode=editor.getValue();localStorage.resultWidth=resultWidth}};const resultElm=document.getElementById("result");const examplesElm=document.getElementById("examples-select");const helpElm=document.getElementById("help-content");const resultBgrd="#2b3039";resultElm.style.backgroundColor=resultBgrd;resultElm.inspector=new(require("@observablehq/inspector").Inspector)(resultElm);ace.require("ace/ext/language_tools");const editor=ace.edit("editor",{fontSize:13.6,fontFamily:"'Source Code Pro', monospace",tabSize:4,useSoftTabs:true,highlightActiveLine:false,useWorker:false,enableBasicAutocompletion:true});editor.setTheme("ace/theme/tomorrow_night_bright");editor.session.setMode(`ace/mode/zap`);editor.setAutoScrollEditorIntoView(true);editor.commands.removeCommand(editor.commands.byName.showSettingsMenu);editor.setShowPrintMargin(false);if(isStorage&&localStorage.zapCode){editor.setValue(localStorage.zapCode,-1)}const setEditorWidth=()=>{resultElm.style.width=resultWidth+"%";document.getElementById("editor").style.width=100-resultWidth+"%";editor.resize()};setEditorWidth();editor.focus();const print=(result,type)=>{if(result instanceof Element||result instanceof DocumentFragment){resultElm.style.backgroundColor="#fff";resultElm.innerHTML="";resultElm.appendChild(result)}else{resultElm.style.backgroundColor=resultBgrd;resultElm.style.borderStyle="solid";if(type==="waiting"){resultElm.innerHTML='<span class="zap-message">waiting ...</span>'}else if(type==="throw"){resultElm.inspector.rejected(result)}else if(result instanceof Error){resultElm.innerHTML=`<span class="zap-error">${""+result}</span>`}else{resultElm.inspector.fulfilled(result)}}};let runCode;{const zap=require("../../dist/zap.cjs");let runId;runCode=isHelp=>{const thisRunId=runId=Symbol();saveState();resultElm.classList.remove("observablehq--error");resultElm.innerHTML="";if(isHelp){print(helpElm);return}let jsCode;try{jsCode=zap(editor.getValue(),{iife:"async"})}catch(err){print(err,"throw");return}print(null,"waiting");new Promise(resolve=>{resolve((1,eval)(jsCode.js))}).then(val=>{if(thisRunId===runId)print(val)}).catch(err=>{if(thisRunId===runId)print(err,"throw")})};document.getElementById("run-button").addEventListener("click",()=>runCode());document.getElementById("help-button").addEventListener("click",()=>runCode(true));if(!editor.getValue().trim())runCode(true)}{const examples=require("./examples.js");for(let name of examples.keys()){const elm=document.createElement("option");elm.innerText=name;examplesElm.appendChild(elm)}examplesElm.addEventListener("change",evt=>{if(evt.target.value){editor.setValue(examples.get(evt.target.value),-1);runCode()}})}{document.addEventListener("keydown",(function(evt){if((evt.ctrlKey||evt.shiftKey)&&evt.key==="Enter"){runCode()}else if(evt.altKey&&evt.key==="a"){resultWidth=50;setEditorWidth()}else if(evt.altKey&&evt.key==="w"){resultWidth=Math.max(resultWidth-2,8);setEditorWidth()}else if(evt.altKey&&evt.key==="q"){resultWidth=Math.min(resultWidth+2,92);setEditorWidth()}else{return}evt.preventDefault();evt.stopImmediatePropagation()}))}window.addEventListener("beforeunload",saveState)})()},{"../../dist/zap.cjs":1,"./examples.js":4,"./storageAvailable.js":6,"@observablehq/inspector":2,"d3-require":3}],6:[function(require,module,exports){module.exports=type=>{var storage;try{storage=window[type];var x="__storage_test__";storage.setItem(x,x);storage.removeItem(x);return true}catch(e){return e instanceof DOMException&&(e.code===22||e.code===1014||e.name==="QuotaExceededError"||e.name==="NS_ERROR_DOM_QUOTA_REACHED")&&(storage&&storage.length!==0)}}},{}]},{},[5]);