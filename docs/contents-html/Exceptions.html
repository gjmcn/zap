<h2>Exceptions</h2>
<hr>
<h4 id="throw"><code>throw</code></h4>
<p>Use the <code>throw</code> operator to throw an exception:</p>
<pre><code><span class="zap-operator">\</span><span class="zap-identifier">Error</span> <span class="zap-string">'something went wrong'</span> <span class="zap-keyword">throw</span>
</code></pre>
<p>The exception need not be an <code>Error</code> object, it can be anything:</p>
<pre><code><span class="zap-operator">@</span> <span class="zap-number">5</span> <span class="zap-number">6</span> <span class="zap-number">7</span> <span class="zap-keyword">throw</span>
</code></pre>
<hr>
<h4 id="try"><code>try</code>, <code>asyncTry</code></h4>
<p>The single operand of <code>try</code> is the <a href="?Syntax#body-operands">body</a>. The code in the body is executed; if it throws, <code>try</code> immediately returns whatever was thrown:</p>
<pre><code><span class="zap-comment">// prints 1, returns the Error object (2 is not printed)</span>
<span class="zap-keyword">try</span>
    <span class="zap-keyword">print</span> <span class="zap-number">1</span>
    <span class="zap-operator">\</span><span class="zap-identifier">Error</span> <span class="zap-string">'something went wrong'</span> <span class="zap-keyword">throw</span>
    <span class="zap-keyword">print</span> <span class="zap-number">2</span>
</code></pre>
<p>If the body of <code>try</code> does not throw, <code>try</code> returns <code>undefined</code>.</p>
<p><code>asyncTry</code> is the asynchronous version of <code>try</code>. <code>asyncTry</code> returns a promise that resolves to whatever was thrown, or <code>undefined</code> if nothing was thrown. <code>await</code> can be used in the body of <code>asyncTry</code> â€” see <a href="#catch"><code>catch</code></a> for an example.</p>
<hr>
<h4 id="catch"><code>catch</code>, <code>asyncCatch</code></h4>
<p><code>catch</code> takes three operands:</p>
<ul>
<li>an expression: typically an application of <a href="#try"><code>try</code></a></li>
<li>a parameter: takes the value of the expression (the parameter is local to the body)</li>
<li>a <a href="?Syntax#body-operands">body</a></li>
</ul>
<p>The body is only executed if the <code>try</code> expression is truthy:</p>
<pre><code><span class="zap-comment">// prints 'something went wrong'</span>
<span class="zap-keyword">try</span>
    <span class="zap-operator">\</span><span class="zap-identifier">Error</span> <span class="zap-string">'something went wrong'</span> <span class="zap-keyword">throw</span>
<span class="zap-punctuation">|</span> <span class="zap-keyword">catch</span> <span class="zap-identifier">err</span>
    <span class="zap-identifier">err</span> <span class="zap-operator">:</span><span class="zap-identifier">message</span> <span class="zap-keyword">print</span>
</code></pre>
<p><code>catch</code> returns <code>undefined</code>.</p>
<p>Here is an example of using <code>catch</code> with <a href="#try"><code>asyncTry</code></a>:</p>
<pre><code><span class="zap-comment">// waits 1000 ms, prints 'something went wrong'</span>
<span class="zap-keyword">asyncScope</span>
    <span class="zap-keyword">asyncTry</span>
        <span class="zap-keyword">period</span> <span class="zap-number">1000</span> <span class="zap-keyword">await</span>
        <span class="zap-operator">\</span><span class="zap-identifier">Error</span> <span class="zap-string">'something went wrong'</span> <span class="zap-keyword">throw</span>
    <span class="zap-punctuation">|</span> <span class="zap-keyword">await</span> <span class="zap-keyword">catch</span> <span class="zap-identifier">err</span>
        <span class="zap-identifier">err</span> <span class="zap-operator">:</span><span class="zap-identifier">message</span> <span class="zap-keyword">print</span>
</code></pre>
<p><code>asyncCatch</code> is the asynchronous version of <code>catch</code>. <code>asyncCatch</code> returns a promise that resolves to <code>undefined</code>. <code>await</code> can be used in the body of <code>asyncCatch</code>.</p>

<br><br><br>