<h2>Syntax</h2>
<hr>
<p>Operators are represented by symbols or reserved words. Each line is an expression that returns a value:</p>
<pre><code>2 + 3    // 5
9 sqrt   // 3
</code></pre>
<p>Use <code>|</code> to continue an expression on a new line:</p>
<pre><code>4 + 5
| sqrt   // 3
</code></pre>
<p>In general, Zap does not use operator associativity, position or precedence rules. Code reads left to right and the 'current' operator is applied when the next operator or end of the expression is reached. The result returned by an operator is used as the first operand of the next operator:</p>
<pre><code>+ 2 3   // 5
2 + 3   // 5
2 3 +   // 5

+ 2 3 * 4   // 20
2 + 3 * 4   // 20
2 3 + * 4   // 20
</code></pre>
<blockquote>
<p>If adjacent operators are represented by symbols, they must be separated by whitespace.</p>
</blockquote>
<hr>
<h4 id="parenth-and-indent">Parentheses and Indentation</h4>
<p>Parentheses can be used for precedence:</p>
<pre><code>2 + 3 * 4     // 20
2 + (3 * 4)   // 14
</code></pre>
<p>Parentheses <em>cannot</em> span multiple expressions:</p>
<pre><code>2 + (3 *
| 4)      // 14 (this is a single expression)

(2 + 3
9 sqrt)   // syntax error   
</code></pre>
<p>Indentation can also be used for precedence. Indented blocks <em>can</em> contain multiple expressions:</p>
<pre><code>2 + 
    3 * 4   // 14

2 + 
    x = 3
    x * 4   // 14    
</code></pre>
<p>Opening an indented block automatically continues an expression â€” do not use a <code>|</code>.</p>
<p>We can close an indented block (or more than one) and continue the expression with <code>|</code>. The following example uses the <a href="?Literals#arrays">array literal</a> operator <code>@</code>and the <a href="?Literals#objects-and-maps">object literal</a> operator <code>#</code> to create an array of objects:</p>
<pre><code>// an array of objects
@
    #
    | name 'Alex'
    | best (# score 143 level 2)
| 
    #
    | name 'Cody'
    | best (# score 201 level 3)
</code></pre>
<p>Four spaces must be used for indentation. Use 'soft tabs' in code editors so that tabs are converted to spaces.</p>
<hr>
<h4 id="identifiers">Identifiers</h4>
<p>The term <em>identifier</em> is used frequently in these docs. An identifier is any combination of letters (currently only <code>a</code>-<code>z</code>, <code>A</code>-<code>Z</code>), digits (<code>0</code>-<code>9</code>), <code>_</code> and <code>$</code>, but cannot start with a digit.</p>
<hr>
<h4>Special Cases</h4>
<p>Additional rules apply to some operators:</p>
<h6 id="right-operand-rule">The Right Operand Rule</h6>
<p>The main <a href="?Get-Property">get property</a> and <a href="?Calling-Functions">call function/method</a> operators use the <em>right operand rule</em>: the first right operand is the property or function. We typically omit space to the right of operators that use this rule.</p>
<pre><code>f = [a + b]   // function (adds its arguments)
\f 5 10       // 15 (\ calls a function)
5 \f 10       // 15
5 10 \f       // 15
5 10 f \      // syntax error
</code></pre>
<h5 id="identifier-name-rule">The Identifier-Name Rule</h5>
<p>The main <a href="?Get-Property">get property</a> and <a href="?Calling-Functions#calling-methods">call method</a> operators, as well as <a href="?Literals#objects-and-maps">object and map literals</a> use the <em>identifier-name rule</em>: property names that are <a href="#identifiers">identifiers</a> are treated as strings:</p>
<pre><code># 'u' 5 'v' 6   // {u: 5, v: 6}
# u 5 v 6       // {u: 5, v: 6}
</code></pre>
<p>Use an identifier as part of a larger expression (wrapping in parentheses suffices) to avoid this special behavior:</p>
<pre><code>u = 'v'

# 
| u 5
| (u) 6
| (u + 'w') 7   // {u: 5, v: 6, vw: 7}
</code></pre>
<p>Reserved words must be quoted when the identifier-name rule applies:</p>
<pre><code># 'if' 5   // {if: 5}
</code></pre>
<h5 id="assignment-precedence">Assignment</h5>
<p><a href="?Assignment">Assignment</a> operators have low precedence and must be placed between their two operands:</p>
<pre><code>x = 1 + 2     // 3
x += 3 + 4    // 10
5 + (x = 6)   // 11 (x is 6)
y = x = 8     // syntax error, multiple assignments are not allowed 
</code></pre>
<p><a href="?Assignment#destructure-object">Destructuring assignment operators</a> must be placed after the last variable being assigned to:</p>
<pre><code>x = @ 5 6
u v @= x   // [5, 6] (u is 5, v is 6)
</code></pre>
<h5 id="open-scope">Open a New Scope</h5>
<p>The following operators take a <strong>body</strong> operand that opens a new scope:</p>
<p><a href="?Writing-Functions#fun"><code>fun</code></a> <a href="?Writing-Functions#proc"><code>proc</code></a> <a href="?Writing-Functions#scope-op"><code>scope</code></a> <a href="?Writing-Functions#as"><code>as</code></a> <a href="?Classes#class"><code>class</code></a> <a href="?Classes#extends"><code>extends</code></a> <a href="?Loops#each"><code>each</code></a> <a href="?Loops#map"><code>map</code></a> <a href="?Loops#do"><code>do</code></a> <a href="?Exceptions#try"><code>try</code></a> <a href="?Exceptions#catch"><code>catch</code></a></p>
<p>and the asynchronous versions:</p>
<p><a href="?Writing-Functions#fun"><code>asyncFun</code></a> <a href="?Writing-Functions#proc"><code>asyncProc</code></a> <a href="?Writing-Functions#scope-op"><code>asyncScope</code></a> <a href="?Writing-Functions#as"><code>asyncAs</code></a> <a href="?Loops#async-loops"><code>asyncEach</code></a> <a href="?Loops#async-loops"><code>asyncMap</code></a> <a href="?Loops#async-loops"><code>asyncDo</code></a> <a href="?Exceptions#try"><code>asyncTry</code></a> <a href="?Exceptions#catch"><code>asyncCatch</code></a></p>
<p>The body is always the final operand and must be in parentheses or be an indented block. Also, the body cannot be before the operator:</p>
<pre><code>fun x y
    x + y         // function

fun x y (x + y)   // function

x y fun (x + y)   // function

x y (x + y) fun   // syntax error, missing function body
</code></pre>
<hr>
<p>!!!!!!!!!!SAY THAT SCOPE AFFECTS FOLLOWING, giveing detaild on each</p>
<ul>
<li>variables</li>
<li>async</li>
<li>yield</li>
<li>stop</li>
</ul>
<p>!!!!!NOT CURRENTLY MENTIONED ANYWHERE: - put at top of Assignment????</p>
<p>Variables are created through assignment using <code>=</code>, <code>&lt;-</code>, <code>#=</code> or <code>@=</code>.</p>
<pre><code>x = 5;   // 5 (outer x is at 'file scope')

\[
  x;     // 5 (outer x)
];

// assign to x with '=' so a local x is created
\[
  x;        // undefined (local x, value is undefined prior to assignment)
  x = 10;   // 10 (local x)
  x;        // 10 (local x)
];

x;       // 5 (outer x)
</code></pre>
<p><code>=</code>, <code>&lt;-</code>, <code>#=</code> and <code>@=</code> <em>cannot</em> create global variables. Attach a property to the global object to create a global variable:</p>
<pre><code>globalThis :x 5;   // works in any JavaScript environment
window :y 6;       // works in browsers
global :z 7;       // works in Node.js
</code></pre>


<br><br><br>