<h2>Filter and Group</h2>
<hr>
<h4 id="filter"><code>filter</code></h4>
<p><code>filter</code> takes an iterable and a callback function. The callback is applied to each element of the iterable (it is passed the element, index and iterable); if the result is truthy, the element is included in the array returned by <code>filter</code>:</p>
<pre><code><span class="zap-operator">@</span> <span class="zap-number">3</span> <span class="zap-number">7</span> <span class="zap-number">4</span> <span class="zap-number">9</span> <span class="zap-keyword">filter</span> <span class="zap-punctuation">[</span><span class="zap-identifier">a</span> <span class="zap-operator">&gt;</span> <span class="zap-number">5</span><span class="zap-punctuation">]</span>   <span class="zap-comment">// [7, 9]</span>

<span class="zap-identifier">x</span> <span class="zap-operator">=</span> <span class="zap-operator">@</span> 
<span class="zap-punctuation">|</span> <span class="zap-punctuation">(</span><span class="zap-operator">#</span> <span class="zap-identifier">u</span> <span class="zap-number">5</span> <span class="zap-identifier">v</span> <span class="zap-number">10</span><span class="zap-punctuation">)</span>
<span class="zap-punctuation">|</span> <span class="zap-punctuation">(</span><span class="zap-operator">#</span> <span class="zap-identifier">u</span> <span class="zap-number">6</span> <span class="zap-identifier">v</span> <span class="zap-number">20</span><span class="zap-punctuation">)</span>
<span class="zap-punctuation">|</span> <span class="zap-punctuation">(</span><span class="zap-operator">#</span> <span class="zap-identifier">u</span> <span class="zap-number">5</span> <span class="zap-identifier">v</span> <span class="zap-number">30</span><span class="zap-punctuation">)</span>   <span class="zap-comment">// array of objects</span>

<span class="zap-identifier">x</span> <span class="zap-keyword">filter</span> <span class="zap-punctuation">[</span><span class="zap-identifier">a</span> <span class="zap-operator">:</span><span class="zap-identifier">u</span> <span class="zap-operator">==</span> <span class="zap-number">5</span><span class="zap-punctuation">]</span>   <span class="zap-comment">// [{u: 5, v: 10}, {u: 5, v: 30}]</span>
</code></pre>
<hr>
<h4 id="group"><code>group</code>, <code>groupCount</code></h4>
<p><code>group</code> takes an iterable and a callback function. The callback is applied to each element of the iterable (it is passed the element, index and iterable); the results are used to group the elements. <code>group</code> returns a map with arrays for values:</p>
<pre><code><span class="zap-identifier">x</span> <span class="zap-operator">=</span> <span class="zap-operator">@</span> 
<span class="zap-punctuation">|</span> <span class="zap-punctuation">(</span><span class="zap-operator">#</span> <span class="zap-identifier">u</span> <span class="zap-number">5</span> <span class="zap-identifier">v</span> <span class="zap-number">10</span><span class="zap-punctuation">)</span>
<span class="zap-punctuation">|</span> <span class="zap-punctuation">(</span><span class="zap-operator">#</span> <span class="zap-identifier">u</span> <span class="zap-number">6</span> <span class="zap-identifier">v</span> <span class="zap-number">20</span><span class="zap-punctuation">)</span>
<span class="zap-punctuation">|</span> <span class="zap-punctuation">(</span><span class="zap-operator">#</span> <span class="zap-identifier">u</span> <span class="zap-number">5</span> <span class="zap-identifier">v</span> <span class="zap-number">30</span><span class="zap-punctuation">)</span>   <span class="zap-comment">// array of objects</span>
  
<span class="zap-identifier">x</span> <span class="zap-keyword">group</span> <span class="zap-punctuation">[</span><span class="zap-identifier">a</span> <span class="zap-operator">:</span><span class="zap-identifier">u</span><span class="zap-punctuation">]</span>   <span class="zap-comment">// Map {</span>
                 <span class="zap-comment">//   5 =&gt; [{u: 5, v: 10}, {u: 5, v: 30}]</span>
                 <span class="zap-comment">//   6 =&gt; [{u: 6, v: 20}]</span>
                 <span class="zap-comment">// }</span>

<span class="zap-comment">// second callback</span>
<span class="zap-identifier">x</span> <span class="zap-keyword">group</span> <span class="zap-punctuation">[</span><span class="zap-identifier">a</span> <span class="zap-operator">:</span><span class="zap-identifier">u</span><span class="zap-punctuation">]</span> <span class="zap-punctuation">[</span><span class="zap-identifier">a</span> <span class="zap-keyword">mean</span> <span class="zap-punctuation">[</span><span class="zap-identifier">a</span> <span class="zap-operator">:</span><span class="zap-identifier">v</span><span class="zap-punctuation">]</span><span class="zap-punctuation">]</span>   <span class="zap-comment">// Map {5 =&gt; 20, 6 =&gt; 20}</span>

<span class="zap-comment">// groupCount</span>
<span class="zap-identifier">x</span> <span class="zap-keyword">groupCount</span> <span class="zap-punctuation">[</span><span class="zap-identifier">a</span> <span class="zap-operator">:</span><span class="zap-identifier">u</span><span class="zap-punctuation">]</span>           <span class="zap-comment">// Map {5 =&gt; 2, 6 =&gt; 1}</span>
<span class="zap-identifier">x</span> <span class="zap-keyword">groupCount</span> <span class="zap-punctuation">[</span><span class="zap-identifier">a</span> <span class="zap-operator">:</span><span class="zap-identifier">u</span><span class="zap-punctuation">]</span> <span class="zap-punctuation">[</span><span class="zap-identifier">a</span> <span class="zap-operator">&gt;</span> <span class="zap-number">1</span><span class="zap-punctuation">]</span>   <span class="zap-comment">// Map {5 =&gt; true, 6 =&gt; false}</span>
</code></pre>
<p>As shown in the example, <code>group</code> can take a second callback. This is applied to each group (it is passed a value and key of the map at each step) and the results are used as the values of the returned map.</p>
<p><code>groupCount</code> gets the size of each group â€” see the final examples above. While we could use <code>group</code> with a second callback for this, <code>groupCount</code> is more efficient and is easier to read.</p>
<p>Use <code>groupCount</code> with the identity function for a frequency count:</p>
<pre><code><span class="zap-identifier">x</span> <span class="zap-operator">=</span> <span class="zap-operator">@</span> <span class="zap-string">'cat'</span> <span class="zap-string">'dog'</span> <span class="zap-string">'dog'</span> <span class="zap-string">'cat'</span> <span class="zap-string">'cat'</span> <span class="zap-string">'hippo'</span> <span class="zap-string">'cat'</span>
<span class="zap-identifier">x</span> <span class="zap-keyword">groupCount</span> <span class="zap-punctuation">[</span><span class="zap-identifier">a</span><span class="zap-punctuation">]</span>   <span class="zap-comment">// Map {'cat' =&gt; 4, 'dog' =&gt; 2, 'hippo' =&gt; 1}</span>
</code></pre>
<br><br><br>