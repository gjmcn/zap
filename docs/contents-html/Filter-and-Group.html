<h2>Filter and Group</h2>
<hr>
<h4 id="filter"><code>filter</code></h4>
<p><code>filter</code> takes an iterable and a callback function. The callback is applied to each element of the iterable (it is passed the element, index and iterable); if the result is truthy, the element is included in the array returned by <code>filter</code>:</p>
<pre><code>@ 3 7 4 9 filter [a &gt; 5]   // [7, 9]

x = @ 
| (# u 5 v 10)
| (# u 6 v 20)
| (# u 5 v 30)   // array of objects

x filter [a :u == 5]   // [{u: 5, v: 10}, {u: 5, v: 30}]
</code></pre>
<hr>
<h4 id="group"><code>group</code>, <code>groupCount</code></h4>
<p><code>group</code> takes an iterable and a callback function. The callback is applied to each element of the iterable (it is passed the element, index and iterable); the results are used to group the elements. <code>group</code> returns a map with arrays for values:</p>
<pre><code>x = @ 
| (# u 5 v 10)
| (# u 6 v 20)
| (# u 5 v 30)   // array of objects
  
x group [a :u]   // Map {
                 //   5 =&gt; [{u: 5, v: 10}, {u: 5, v: 30}]
                 //   6 =&gt; [{u: 6, v: 20}]
                 // }

// pass a second callback (see below)
x group [a :u] [a mean [a :v]]   // Map {5 =&gt; 20, 6 =&gt; 20}

// groupCount
x groupCount [a :u]                       // Map {5 =&gt; 2, 6 =&gt; 1}
x groupCount [a :u] [a == 1 ? '1' '&gt;1']   // Map {5 =&gt; '&gt;1', 6 =&gt; '1'}
</code></pre>
<p>As shown in the example, <code>group</code> can take a second callback. This is applied to each group (it is passed a value and key of the map at each step) and the results are used as the values of the returned map.</p>
<p><code>groupCount</code> gets the size of each group â€” see the final examples above. While we could use <code>group</code> with a second callback for this, <code>groupCount</code> is more efficient and is easier to read.</p>
<p>Use <code>groupCount</code> with the identity function for a frequency count:</p>
<pre><code>x = @ 'cat' 'dog' 'dog' 'cat' 'cat' 'hippo' 'cat'
x groupCount [a]   // Map {'cat' =&gt; 4, 'dog' =&gt; 2, 'hippo' =&gt; 1}
</code></pre>


<br><br><br>